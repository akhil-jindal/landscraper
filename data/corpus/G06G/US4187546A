Computer-controlled oil drilling rig having drawworks motor and brake control arrangement 
US-4187546-A
B. J. Hughes Inc.
1980-02-05
https://patents.google.com/patent/US4187546A/en
CROSS REFERENCE TO RELATED APPLICATIONS
Subject matter disclosed and claimed herein is disclosed in the following copending applications, each assigned to the Assignee of the present invention:
Elevator Load Arrangement for a Computer-Controlled Oil Drilling Rig, Ser. No. 777,786, filed Mar. 15, 1977 in the names of Loren B. Sheldon, James R. Tomashek, and Donald H. Ward; and now U.S. Pat. No. 4,139,891.
Velocity Control Arrangement For a Computer-Controlled Oil Drilling Rig, Ser. No. 777,677, filed Mar. 15, 1977 in the names of Loren B. Sheldon, James R. Tomashek, and Donald H. Ward; and now U.S. Pat. No. 4,128,888
Block position and Speed Transducer For a Computer-Controlled Oil Drilling Rig, Ser. No. 777,927, filed Mar. 15, 1977 in the names of Loren B. Sheldon and James R. Tomashek; and now U.S. Pat. No. 4,119,837.
Power Tongs Control Arrangement, Ser. No. 777,926, filed Mar. 15, 1977 in the names of Loren B. Sheldon, James R. Tomashek, and Donald H. Ward;
Electro-Hydraulic Interface For a Power Tongs, Ser. No. 777,672, filed Mar. 15, 1977 in the name of Loren B. Sheldon; and,
Joint Sensor For A Power Tongs, Ser. No. 777,673, filed Mar. 15, 1977 in the name of Loren B. Sheldon.
BACKGROUND OF THE INVENTION
1. Field of the Invention
This invention relates to a computer-controlled oil drilling rig, or derrick.
2. Description of the Prior Art
The physical structures utilized in the generation of a hydrocarbon producing well are known in the art. For example, drawworks have been long utilized in oil drilling rigs, or derricks, to raise or lower pipe stands and drill string into and out of the bore. Tongs are well known for making and breaking joints between pipe stands and the drill string. U.S. Pat. No. 3,881,375, issued to Robert R. Kelly and assigned to the assignee of the present invention, generally relates to a tongs. Racker arrangements for moving pipe stands from a storage location on a "set back" to an operating location within the derrick are also wellknown. U.S. Pat. No. 3,501,017, issued to Noal E. Johnson et al. and U.S. Pat. No. 3,561,811, issued to John W. Turner, Jr., both relate generally to well pipe rackers and are both assigned to the assignee of the present invention.
Usually each of the broad functions performed by the mentioned structural systems requires the superintendence of many skilled derrick operators. Further, the work is often inefficiently performed, adding to the overall cost of the well. Yet further, even if the work is periodically efficient, it is difficult to maintain peak operating levels whereby each operation of the associated structures mesh so as to maintain the task of making-up or breaking-out a drill string at a minimum from a time standpoint consistent with safety of the personnel and the bore.
It is therefore advantageous to provide each of those structural systems with an appropriate electronic control system and to utilize a programmed general purpose digital computer to superintend and sequence the proper operation of the physical structures to most efficiently control derrick operations. It is appreciated that the elimination of manual control increases the efficiency and lowers the cost of well drilling operations.
By way of particular examples, in the prior art, the lifting or hoisting of the traveling block and elevator is done by the manual control of the electric motor drive on the derrick. The lowering motion of the traveling block is normally manually controlled by a drum brake. The lowering motion of a loaded traveling block (having a drill string thereon) is done by the manual control of the drum brake and uses an auxiliary brake to absorb the potential energy of the string during lowering. The manual control of these functions may be inefficient during foul weather or otherwise detrimental environments. It would be advantageous to provide an electronic control system in cooperative association with a programmed digital computer to control the lifting and lowering cycles, and specifically the velocity and position of the traveling block and elevator.
The loading on the traveling block and elevator, and specifically the increase in block loading when in the break-out cycle occassioned by friction in the bore as well as the decrease in block loading in the make-up cycle occassioned by an obstruction in the bore, present problems in the manual control of the derrick. It is therefore advantageous to provide an electronic load sensing arrangement to provide inputs to an electronic drawworks control to adjust the velocity and position of the traveling block in response thereto and to recognize potential dangerous loading conditions on the block.
The tongs are, as is known in the art, a hydraulically powered arrangement capable of making and breaking joints in a drill string. It is advantageous to provide an electronic network controlling the operations of the tongs, and to interconnect that control network with a programmed general purpose digital computer so as to repeatedly and efficiently operate the tongs to perform its function. Of course, since various of the physical structures discussed are actuated by hydraulic or pneumatic operators, suitable electro-hydraulic or electro-pneumatic interfaces must be provided. It is also advantageous to provide a sensor arrangement to locate the backup and power driven tong in vertical symmetry with respect to a horizontal plane passing through the tool joint.
SUMMARY OF THE INVENTION
This invention relates to an oil drilling rig including racker means for carrying a pipe stand between a storage location and the vertical axis of the rig, tongs to make or break the joints between the pipe stand and a drill string, and a drawworks, including a motor and a brake, for lifting and lowering a predetermined length of drill string after a joint is made or broken by the tongs. A general purpose programmable digital computer is associated with each of the racker, tongs and drawworks for sequentially initiating the operation of each. Closed-loop control systems provide control signals for the drawworks motor and brake.
BRIEF DESCRIPTION OF THE DRAWINGS
The invention will be more fully understood from the following detailed description of a preferred embodiment thereof, taken in connection with the accompanying drawings, which form a part of this application, and in which:
FIG. 1 is a generalized block diagram illustrating the interactions between derrick structure and control systems thereof and a digital computer in accordance with the teachings of this invention;
FIG. 2 is an illustration of the structural elements included on an oil derrick, or drilling rig, and the various structural systems disposed thereon;
FIG. 3 is a more detailed block diagram of the drawworks control system embodying the teachings of this invention;
FIG. 4 is a simplified signal diagram illustrating the principles of operation of the motor and brake control subsystems of a drawworks control system embodying the teachings of this invention;
FIGS. 5 and 6 are more detailed signal diagrams based upon the signal diagram of FIG. 4 and specifically relating to a brake control subsystem and to a motor control subsystem, respectively, each embodying the teachings of this invention;
FIG. 7 is a schematic diagram of the electronic-to-pneumatic interface associated with the drawworks brake actuator;
FIGS. 8A and 8B are detailed schematic diagrams of the brake control subsystem shown in the block diagram FIG. 3;
FIGS. 9A and 9B are detailed schematic diagrams of the motor control subsystem shown in the block diagram FIG. 3;
FIG. 10 is a detailed schematic diagram of the velocity comparator shown in the block diagram FIG. 3;
FIG. 11 is a detailed schematic diagram of the traveling block position and speed transducer shown in the block diagram FIG. 3;
FIGS. 12A and 12B are detailed schematic diagrams of the elevator load control subsystem shown in the block diagram FIG. 3;
FIG. 13 is a detailed schematic diagram of associated safety networks and override arrangements embodied by the invention;
FIG. 14 is a highly stylized pictorial representation, similar to FIG. 2, of a power tong assembly illustrating conventional tong elements and elements associated therewith according to this invention;
FIG. 14A is a detailed schematic diagram of an electro-hydraulic interface embodying the teachings of this invention and disposed in a power tong assembly in accordance with FIG. 14;
FIG. 15 is a block diagram similar to FIG. 3 indicating the interconnection between a programmable general purpose digital computer and the tong control assembly according to this invention;
FIGS. 16A-16D are detailed schematic diagrams of an automatic tong control system embodying the teachings of this invention;
FIGS. 17A and 17B are timing diagrams for the automatic tongs control system shown in FIG. 16 in the make-up and break-out cycles, respectively;
FIGS. 18A and 18B, are, respectively detailed elevational and top views of a joint sensor for a power tongs assembly in accordance with the teachings of this invention; and,
FIG. 19 is a definitional diagram of two commonly used drill pipe configurations illustrating the structures thereof to assist in the description of the joint sensor shown in FIGS. 18A and 18B.
DESCRIPTION OF PREFERRED EMBODIMENT
Throughout the following description, similar reference characters and reference numerals refer to similar elements in all Figures of the drawings.
Referring first to FIG. 1, a generalized block diagram of a computer controlled oil drilling rig, or derrick, embodying the teachings of this invention is illustrated. Generally speaking, the derrick includes three broad structural systems each performing a particular set of functions relating to the drilling of an oil well, and a control system related to each structural system to control the physical actions performed thereby.
The derrick 20 (FIG. 2) includes a drawworks structural system 22 having a drawworks control system 21 associated therewith. The drawworks systems generally provide the hoisting (or lifting) and lowering functions associated with the generation of a well bore. Command signals output from the drawworks control system 21 are input to the structural system 22, as diagrammatically illustrated by a line 23, and initiate or cease the physical actions of elements within the structural system 22. Feedback signals representative of various physical parameters associated with each of the structural elements within the drawworks structural system 22 are input to the control system 21, as illustrated by a line 24.
The derrick also includes a power tongs structural system 28 and a tongs control system 29 associated therewith. The tongs systems generally provide the make-up or break-out of individual pipe stands into or out of a drill string. Command signals initiating or ceasing the physical actions of structural elements of the tongs structural system 28 are input thereto from the tongs control system 29, as illustrated by a line 30. Feedback signals representative of various physical parameters associated with each of the structural elements within the tongs structural system 28 are input to the tongs control system 29 as illustrated by a line 31.
Also provided is a racker structural system 34 which, in general, provides the structure necessary for carrying individual pipe stands from a storage location to a location along the vertical axis of the derrick for make-up or from the location along the vertical axis of the derrick to the storage location during break-out. The storage location is known in the art as the "set back". A racker control system 35 is provided, with control signals being output therefrom to the structural system 34, as illustrated by a line 36. Feedback signals from the structural system 34 are input to the racker control system 35, as illustrated by a line 37. The racker structural system 34 and control system 35 have been disclosed and claimed in the copending application of Loren B. Sheldon, James R. Tomashek, Robert R. Kelly, and James S. Thale, Ser. No. 547,375, filed Feb. 6, 1975, now U.S. Pat. No. 4,042,123 and assigned to the assignee of the present invention.
A general purpose programmable digital computer 40 is interfaced with each of the above-mentioned control systems, as illustrated diagrammatically by a line 41 (to the drawworks control system 21), a line 42 (to the power tongs control system 29) and a line 43 (to the racker control system 35). Each of the control systems feed back various signals to the computer 40, as illustrated by the lines 44, 45, and 46, from the drawworks control system 21, tongs control system 29, and racker control system 35, respectively. Further, the computer 40 receives direct data input of physical parameters, as illustrated as by a line 47.
The computer, in accordance with the programmed instructions, sequentially initiates the operations of various of the structural systems to perform various physical functions within the derrick. To economize operating time and maximize efficiency, control of the systems may be on a time shared basis, as with control of the drawworks and racker systems. Any interactions between the systems, as between drawworks and tongs, are through the computer 40. A listing of the program for the digital computer 40 is appended hereto.
STRUCTURE
Referring to FIG. 2, shown is an illustration of the oil drilling rig, or derrick 20 incorporating the basic rig features and having thereon the structural elements which are included in the structural systems outlined in connection with FIG. 1. These structural systems are in cooperative association with their associated control systems to initiate and cease the operation of the physical functions performed by the structural systems. The derrick 20 is illustrated in simplified form, with various structural supports, sway bars, and other similar members being omitted for clarity.
The basic derrick structure 20 includes corner posts 51 and 52 extending substantially upwardly from suitable base members. The base members are supported on a drilling floor 53, the drilling floor 53 being mounted on the surface of the earth, on an off-shore drilling platform or on a drill ship. A rotary table is provided in the floor 53 of the derrick and provides the rotational energy whereby a drill string, comprised of end-to-end connected drill pipe stands, may be advanced toward a hydrocarbon producing formation. Slips 55 are shown on the floor 53. When engaged, the slips 55 support the full weight of the drill string depending therebeneath. In FIG. 2, the upper end of the drill string, or more precisely, the upper end of the uppermost pipe stand connected within the drill string, is shown as protruding above the slips 55. Each upper end of the pipe stand has a distended joint 56 used in connection with the tongs operation. The programmable general purpose digital computer 50 may be conveniently housed in a structure 57 on the floor 53.
The axis of the bore being generated beneath the floor 53 of the derrick extends centrally and axially through the derrick. A racker structural system, generally indicated by the reference numeral 34, carries individual pipe stands between a storage location, or "set back", disposed at the side of the derrick and a location along the vertical axis thereof. It is along the vertical axis of the derrick 20 that the drill string is retracted from or lowered into the bore being generated. The racker structure 34 includes a lifting head 58, an upper arm 59 with a latch thereon, carriages 60 and 61 for the head 58 and for the arm 59, respectively, and a racker board 62 for receiving and supporting individual pipe stands. The racker structure and control systems has been disclosed and claimed in the above-referenced copending application Ser. No. 547,375 now U.S. Pat. No. 4,042,123.
The corner posts 51 and 52 are interconnected with and supported by transverse supports at various elevations along the derrick 20. The derrick 20 is capped by a water table 65 which supports the usual crown block 66. Suspended from the crown block 66 by a cable arrangement 67, or reaving, are elements of the drawworks structural system, including a traveling block 68. The traveling block 68 supports a hook structure 70 by interengaged bales 71. Elevator links 72 are suspended from ears 73 on the hook structure 70. The links 72 have an elevator 75 swingably attached at the lower ends thereof. The elevator 75 is offset below the traveling block 68 by a predetermined distance h. The elevator 75 includes a gripping arrangement 76 to grasp or release the distended ends 56 of a pipe stand.
A block retractor arrangement 78 is connected to the traveling block 68 and serves to retract the traveling block (with depending elevator 75) away from the vertical axis of the derrick along which it usually depends. The retractor 78 includes a carriage 79 which is rectilinearly moveable through a wheeled arrangement along a substantially vertically extending retractor guide track 80. A block position and speed transducer (B.P.S.T.) 83 is mounted on the retractor carriage 79 and produces output feedback signals representative of the actual physical position of the traveling block 68 along the track 80. These feedback signals, as will be seen, are provided both to the drawworks control system 21 (FIG. 1) and to the computer 40. The block position transducer 83 also provides a feedback signal representative of the velocity at which the traveling block 68 is moving along the track 80. Of course, it may be readily appreciated that since the elevator 75 is vertically offset by the distance h from the traveling block 68, the position of the traveling block 68 along the track 80 also indicates the position of the elevator 75 with respect thereto, and vice versa. And, since the traveling block 68 and the elevator 75 are generally extended to move along the vertical axis of the derrick, the position (elevation), and velocity of the traveling block 68 with respect to the vertical axis of the derrick 20 may be accurately monitored by the block position and speed transducer 83. The structure and internal circuitry of the block position and speed transducer 83 are set forth in full herein. For a purpose more fully disclosed herein, upper and lower limit switches 84 and 85 are provided on the carriage 81. An upper target 86 and a lower target 87 are provided at predetermined locations on the retractor guide track 80.
As is the usualy practice in the art, the cable arrangement 67 which supports the traveling block 68 and structures (including the elevator 75) depending therefrom are reaved about the block 66. One end 88 of the cable arrangement 67, known as the "dead line" in the art, is anchored to the derrick 20 as illustrated at 89. The second end 90 of the cable arrangement 67, known as the "fast line" is connected to other elements included in the drawworks structural system. More particularly, the fast line 90 is attached to a spool or drum 91 of the drawworks. The drum 91 is driven by an electric motor 92 of any suitable type as diagrammatically illustrated in FIG. 2. For example, a motor manufactured by the Electromotive Division of General Motors, sold under Model No. D79GB and rated at 800 horsepower for drilling is a typical motor for a drawworks structural system. Determination of a motor lies well within the skill of the art. The motor 92 is provided with a motor drive 93, such as a THYRIG manufactured by Baylor Company, although any other motor drive arrangement may be used. The motor 92 may be wound in any predetermined configuration to meet the needs of a particular rig. It is noted, however, that the motor 92 imparts the energy whereby the traveling block 68 and the structures depending therefrom may be moved with respect to the vertical axis of the derrick 20 from a first predetermined to a second predetermined elevation. Therefore, control of the motor drive 93, and in turn, of the motor 92, effectively controls the velocity and acceleration of the traveling block 68 as it is lifted from a first to a second elevation. The drawworks includes a suitable clutch and gear arrangement therein.
A drum tachometer 94 is physically located in adjacency to the spool 91. The output of the drum tachometer 94 is a feedback signal to the drawworks control system 21 representative of the velocity of the spool 88, which signal is directly proportional to the velocity of the traveling block 68 and depending structures. Within the dead line 88 is provided a transducer 95 known as the dead line force sensor (D.L.F.S.). The transducer 95 provides a feedback signal to the drawworks control system 21 related to the physical loading of the structures supported by the cable arrangement 67. Of course, the cable arrangement 67 at all times supports the traveling block 68 and its depending structures. The unloaded, static weight of these structures defines a "tare" weight of the structure supported by the cable arrangement 67. When the elevator 75 acquires a load, the D.L.F.S. 95 appropriately reacts. Similarly when the elevator load is properly relinguished, the sensor 95 responds accordingly. Yet further, during movement of a loaded traveling block 68, frictional or other forces may alter the load carried by the elevator 75. The D.L.F.S. 95 therefore provides an accurate feedback signal as to the instantaneous loading on the elevator 75 of the drawworks structure. As is generally the case with the other transducers, other convenient physical locations therefor may be used to measure the desired parameters. In addition, any appropriate means for measuring the desired parameters may also be utilized, as is appreciated by those skilled in the art.
Also included within the drawworks structural system is a brake. The drawworks brake includes a primary brake the function of which is to control the velocity and deceleration of the drawworks traveling block (when unloaded) and to stop the motion thereof. An auxiliary brake is also provided within the drawworks structural system to substantially absorb the potential energy associated with the lowering of a loaded traveling block. In the particular embodiment of the invention shown in FIG. 2, the primary brake is a drum brake 96, manually operable by a pivotable lever 97. A spring 98 biases the drum brake 96 into its fully asserted position. The lever 97 may be connected to a brake actuator assembly generally indicated by the numeral 99. As seen also in FIG. 7, the brake actuator assembly 99 include a cylinder 100 having a piston 101 therein. The piston 101 is coupled to the lever 97. The brake actuator 99 also includes an electro-to-pneumatic interface 102 (FIG. 7) such that the cylinder 100 may be coupled to a suitable supply of pressurized air or any other fluid. Introduction of the fluid into the cylinder 100 moves the piston 101 therein which moves the lever 97 so as to modulate the force on the brake.
As mentioned above, it is known to those skilled in the art that the secondary brake is provided to absorb the energy when the loaded traveling block is moved downwardly from an upper to a lower elevation. A manually controlled hydromatic brake may be used as an auxiliary brake. However, an electric brake, such as an ELMAGCO brake sold by Baylor Company could typically be used. The brake control subsystem of the drawworks control system 21 can be readily interfaced with an auxiliary brake by those having skill in the art so as to provide the desired velocity and deceleration control. Final position is ultimately controlled by the drum brake 96.
It is important to note that whatever auxiliary brake configuration and actuator therefor is utilized, the drawworks structure includes a brake which is controlled by the drawworks control system 21 so that the desired velocity and acceleration of the traveling block 68 is maintained as it moves from an upper to a lower final position. Also, the brake is operable to set and hold a lifted or hoisted load in the upper position. If the operator deems it necessary to halt the movement of the physical structures associated with the drawworks, the operator may at any time override the electrical signal output from the drawworks control system by actuating a switch 103 mounted on the lever 97. The operator may also, at anytime, override the electrical signal output from the drawworks control system 21 by depressing a push-button switch located in the control panel 104. The spring 98 may be manually overridden to release the brake.
The racker structure 34 is operable to carry a pipe stand from the vertical centerline of the derrick to the set back. In a make-up cycle, the pipe stand to be added is stabbed into the already emplaced and connected stands which comprise the drill string. When joined to the drill string, the racker structure 34 relinquishes the load to the drawworks, which lowers the string into position. In a breakout cycle, the drawworks structure 22 withdraws the drill string, and, as each pipe stand thereis is disconnected from the string, the racker structure 34 accepts the load from the drawworks and moves the pipe stand to a storage location.
The actual connection and disconnection of pipe stands from the drill string is accomplished by the power tongs structure 28 under the control of the tongs control system 29. Very briefly, the tongs includes a backup, which holds the lower pipe element defining the joint, while a second element of the tongs--the power driven tong--connects or disconnects a pipe stand to the upper pipe element. The tongs also includes a lift to move the associated tongs structure at a predetermined speed to a predetermined operating elevation with respect to the vertical axis of the derrick. The backup and the power driven tong jaws usually circumferentially surround the drill string as it advances in the bore. Put another way, the vertical axis of the derrick usually extends through the openings in the backup and jaws of the tongs to facilitate gripping and disconnection or connection operations. Until needed, the tongs is stored in a lowermost storage position. When it is convenient to do so, the tongs are lifted to a standby position which is proximate to the elevation at which the distended joint 56 of the drill string is raised by the drawworks. To sense the distended joint 56, a joint sensor 1025 (FIGS. 18A and 18B) is provided to contact the exterior of the drill string as the tongs are moved from the standby to the operating position. The movement from the standby to the operating position is at a slower speed, of course, than the speed at which the tongs are moved from the storage position to standby position. The particular joint sensor 1025 embodied by the teachings of this invention is made clearer herein.
The details of the structure of the tongs, the joint sensor and the tongs control system (including an electrohydraulic interface) is discussed in detail herein.
OPERATION
Having defined the elements of the various structural systems, the operating sequence thereof during a typical make-up or break-out cycle is presented, to graphically illustrate the physical interractions between the defined structures. Once this is done, a detailed description of each of the control systems initiating and ceasing the physical operations performed by the structural systems is set forth.
In the break-out cycle, the objective is to disassemble the drill string into its constituent pipe stands as the drill string is lifted from the bore. With the upper end of the still-attached pipe stand to be next-removed held by the slips at a predetermined elevation along the vertical axis of the derrick, the traveling block with the elevator suspended therefrom is lowered under the control of the drawworks portion of the computer program and under the influence of the drawworks brake control subsystem which stops and sets the brake at an elevation so as to permit the elevator to accept the pipe stand. During this period the racker is placing the last-removed pipe stand in a storage location on the set back, and will eventually be moved under control of racker portion of the computer program to a position to accept the next-removed pipe stand. The drawworks program and racker program operate on a time-shared basis. The tongs are in a storage position.
The computer sends an actuating signal to the elevator load control subsystem which derives its input signals from the dead line force sensor. A momentary signal output from the computer samples the weight of the unloaded traveling block and elevator. This tare weight is used, as discussed herein, to ascertain the instantaneous loading on the traveling block and elevator. The elevator then accepts the loading of the drill string, and an output feedback signal to that effect from the elevator load control subsystem is used to coordinate opening of the slips. The computer outputs a momentary load sample signal before the velocity of the loaded elevator is increased. This static or initial load signal, when modified by a predetermined fractional multiplier, is used as a basis for determining whether the instantaneous loading on the elevator has exceeded a permissible range of values as selected by an experienced drilling operator.
In response to an actuating signal from the computer, the drawworks motor control subsystem provides a throttle signal to the drawworks motor drive to hoist the drill string to a predetermined elevation. It may be necessary to move the block slightly, or creep to engage the drawworks clutch. The drill string is hoisted under the control of the drawworks motor control subsystem. A logic network operates to release the brake whenever the hoisting velocity exceeds a preset threshold value and tends to apply the brake at hoisting speeds below this threshold velocity (the drum brake being a self-energizing brake).
The motor control subsystem provides output signals to the drawworks motor drive to lift the drill string in a manner which takes into account the position error (the difference between the actual position and command position of the drill string being lifted), a predetermined command velocity output by the computer, and the dynamic loading. During the major portion of the travel the load is hoisted at an uniform velocity equal to the command velocity. As the predetermined command position is approached, the hoisting velocity is reduced in a manner proportional to the position error. Put another way, the drawworks motor control subsystem responds in position and velocity feedback signals input to it from the block position and speed transducer and the drum tachometer, respectively, to move the traveling block and elevator to a predetermined command elevation at a predetermined command velocity output by the computer.
During the hoisting operation, signals from the elevator load control subsystem are taken into consideration in determining the magnitude of the output signal to the drawworks motor. If the actual loading on the elevator exceeds the predetermined value by which actual load may deviate from the static loading, the motor is slowed to bring the loading into the acceptable limits. Of course, if the deviation goes beyond a threshold above the scaled initial value range, indicating that the string is caught in the bore, the automated control shuts the system down and the system reverts to manual control.
As the block is hoisted and approaches the final position, the motor is stopped and the brake is set. The brake is applied when the lifting velocity drops below the predetermined threshold mentioned. The motor is stopped when the position reaches within some predetermined close distance to the command elevation. During lifting, if the block is indicated as moving in the wrong direction of travel or at a greater than commanded velocity, the automated sequence is halted and the system reverts to manual control.
The block final elevation is selected such that the height at which the upper end of the pipe stand to be removed finally stops will also place the joint between the pipe stand and the next lower pipe stand at an elevation for operation by the power tongs. When the block velocity is sufficiently close to zero, a zero velocity signal is returned to the computer. This signal, along with a block position feedback signal sufficiently close the the command position signal are necessary conditions before the actuating command to set the slips to retain the load is output from the computer. Only with the slips set and supporting the full load of the drill string will the elevator relinquish the pipe stand to the racker structure. As mentioned, after racking the previous stand, the racker is moved back toward the vertical centerline of derrick, so as to be in a position to accept the next pipe stand. The elevator and block are retracted away from the vertical centerline of the derrick and drop under the control of the drawworks brake to be in position to repeat the lifting sequence.
When the lifting movement started, the power tongs were in the storage position above the floor of the derrick. After the elevator has been hoisted above a potentially obstructing position the tongs were actuated and moved to a standby position. After the pipe stand has been finally positioned and the slips set, a joint sensor associated with the tongs control a slower lifting movement to bring the tongs into operating position. When the tongs are positioned properly with respect to the joint, the motion thereof is halted, and the joint sensor retracted. The tong backup then engages the drill string, the tong jaws engage the pipe stand to be removed, and the pipe stand is separated therefrom. The racker then begins to store the now-separated pipe stand, while the tongs are moved to the storage position. The elevator then is brought into the elevation along the central axis of the derrick where it may engage the upper end of the still-attached pipe stand to be next-removed and the breakout process repeated.
In the make-up cycle, the objective is to assemble the drill string from its constituent pipe stands and to lower the string into the bore. With the upper end of the last-connected pipe stand supported at a predetermined elevation by the slips, the drawworks motor control subsystem lifts the block and elevator along the vertical axis of the derrick to a position at which it will receive a pipe stand from the racker.
The tongs are moved upwardly from the storage to the standby position at a first, normal, speed. The tongs continue to move upwardly at a second, slower, speed beyond the standby position with the joint sensor extended. When the joint is sensed, upward motion is halted with the tongs at the operating elevation and the backup is closed. A pipe stabber is extended to guide the lower end of the pipe stand being made up into the threaded connection at the distended upper end of the drill string. When the pipe is stabbed, the tongs proceed to make up the joint. Thereafter, the tongs are lowered to the storage position. The elevator, at the upper elevation, is raised at a creep speed to acquire the drill string load. After the elevator load control subsystem detects that the drill string load is acquired by the elevator, the slips are raised and the drill string is hoisted further to disengage the slips from the drill string. At this time, the rackers, under control of the computer racker program, proceed to acquire the next pipe stand and carry it toward the vertical centerline of the derrick to the racker standby position. From there the rackers proceed to the vertical centerline of the derrick.
In response to command velocity and command position signals output from the computer, and utilizing a position feedback signal from the block position and speed transducer, and a velocity feedback signal from the drawworks drum tachometer, the drawworks brake control subsystem supervises the lowering of the drill string to a predetermined lower elevation. The brake control subsystem outputs control signals to the drawworks brake actuator so as to maintain the block velocity near the command velocity for the major portion of the travel, and to position the block as close as possible to the command position during the final position of the travel.
The elevator load control is activated by the computer and is responsive to a momentary signal to sample to loading of the block and elevator in the unloaded condition. This signal is used to discern whether or not the elevator is supporting any of the drill string load. Also in response to a signal output from the computer, the loading on the elevator is sampled and held after the load is acquired but before the downward velocity thereof is appreciable. This initial static loading signal is used, when appropriately modified by a predetermined factional multiplier, as the basis for determination as to whether or not the instantaneous loading on the elevator has exceeded a permissible range of loading normally anticipated during a lowering operation.
During the lowering operation, the outputs to the brake actuator from the brake control subsystem take into account the signals relative to loading from the elevator load control subsystem. If the actual loading is deviating from the initial static condition by more than the specified amount, the drawworks brake control slows the velocity to bring the loading back to acceptable limits. If the actual loading is deviating by more than a predetermined threshold below the scaled static value (indicating that the bore is obstructed and the drill string unable to penetrate), then the automated control sequence is terminated, reverted to manual control, and the system is shut down. Other interrupt conditions may occur if, during the lowering operation, an indication that excessive speed has been reached, or that the block is moving in a wrong direction of travel.
As the block reaches the command position, the differences in the actual position and velocity from the command position and velocity are such that the brake is set. That is, when the block and elevator come within a predetermined distance of the command position, the brake is set. Zero position error and zero velocity are necessary conditions which must be met before the computer sets the slips. With the slips set, and the weight of the drill string supported thereby, the elevator surrenders the load, and the block and elevator lifted to the upper most position to accept the next-to-be lowered pipe stand. The process is then repeated.
DRAWWORKS CONTROL SYSTEM
The drawworks structural system 22 is the collection of the structural elements on the derrick which perform all of the physical acts associated with the lifting or lowering of the drill string. These structural elements have been detailed in connection with FIG. 2.
The physical actions performed by the drawworks structural system 22 are collected by an arrangement known as the drawworks control system, indicated by reference numeral 21 on the general block diagram FIG. 1 and on the more detailed drawworks control system block diagram FIG. 3. The computer is interfaced with the drawworks control system 21 through a plurality of input and output lines, each of which will be discussed herein. Further, the drawworks control system 21 is input with various feedback signals representative of physical quantities associated with the structural system, such as velocity, position, direction, etc. Through the use of the computer commands and the feedback signals, the drawworks control system 21 outputs signals initiating or ceasing the functions performed by certain structural elements. All inputs and outputs of the drawworks control 21 to and from the physical structures with which it is associated will be detailed herein.
The drawworks control system 21 includes several interconnected subsystems, as follows: the drawworks brake control subsystem 105; the drawworks motor control subsystem 106; the drawworks elevator load control subsystem 107; and the drawworks velocity comparator subsystem 108. Further, logic 109 is connected within the drawworks control 21 in cooperative association with the brake control subsystem 105 and the motor control subsystem 106.
Feedback signals to the drawworks control system 21 are provided from the block position and speed transducer (B.P.S.T.) 83, which specifically provides position feedback signals to the brake and motor control subsystems, 105 and 106 respectively. The block position and speed transducer 83 also furnishes a velocity feedback signal to the velocity comparator 108. However, the primary velocity feedback signal to the drawworks control 21 is the signal from the drawworks drum tachometer 94 provided to the velocity comparator 108. The deadline force sensor (D.L.F.S.) 95 provides feedback current signal of 4-20mA to the drawworks control system 21, particularly to the elevator load control subsystem 107 on a line 110. Any of these feedback signals may be conditioned, recorded or otherwise operated upon prior to their input to the control system 21.
One output from the drawworks control system 21, specifically from the brake control subsystem 105, is connected to the brake actuator 99 which is connected to the brake. The brake actuator 99 includes the electronic-to-pneumatic interface 102 (discussed in detail herein) which converts electrical output signals from the brake control subsystem 105 into pneumatic signals compatible with drawworks brake cylinder 100. Another output from the drawworks control system 21 is connected to the motor drive 93 of the drawworks. For convenience of operation, various voltage-to-current (as by the converter 274, for example) and current-to-voltage conversions are effected, with the electronic arrangements for effecting these conversions being detailed herein.
Input to the drawworks control system 21 are signals from various safety overrides present on the physical structure of the drawworks. For example, the STOP control button located on the driller's console is an element of an interlocking circuit. When the STOP button is depressed, it functions to deenergize the AUTO/MANUAL bus. This bus in input to the motor control subsystem 106 by a line 111. The line 111 connects to a relay coil 112 and a solenoid coil 113 of a valve 114. Actuation of the STOP button causes the system to revert from automated to manual control. By deenergizing the relay 112 the throttle signal from the motor control subsystem 106 is disconnected from the motor drive 93, stopping the motor 92. By deenergizing the coil 113 of the valve 114, the actuator pneumatic signal to the cylinder 100 is disconnected and the cylinder 100 is vented to the atmosphere, thus applying a full braking signal.
The electronic arrangement of each of the recited drawworks control subsystems, the operation of each, and the interactions between them are now discussed.
DRAWWORKS BRAKE AND MOTOR CONTROL SUBSYSTEMS
The drawworks brake and motor control subsystems 105 and 106 are now discussed. Both the brake control subsystem 105 and the motor control subsystem 106 receive a 4-20 mA analog signal COMMAND POSITION output from channel A of the computer 40. The COMMAND POSITION signal is carried by lines 115B and 115M as inputs to the brake control subsystem 105 and motor control subsystem 106, respectively. The magnitude of the COMMAND POSITION signal is related to the elevation to which it is desired the traveling block 68 to be raised or lowered by the motor 92 or brake under the control of the motor or brake control subsystems. ACTUAL POSITION voltage signals are received from the block position transducer 83 by the brake control subsystem 105 and the motor control subsystems 106, respectively, on lines 116B and 116M. The derivation of the position signal is discussed in connection with the block position transducer 83.
Both the brake control subsystem 105 and the motor control subsystem 106 receive a 0-10 v COMMAND VELOCITY signal from the velocity comparator 108 on lines 132B and 132M, respectively. The magnitude of the COMMAND VELOCITY signal is related to the velocity to which it is desired to lift the traveling block 68 to the desired elevation. ACTUAL VELOCITY voltage signals, also from the velocity comparator 108, are input to the brake control subsystem 105 and the motor control subsystem 106 on the lines 134B and 134M, respectively. The magnitude of the ACTUAL VELOCITY signal is functionally related to the speed at which the traveling block 68 is moving under the control of the motor or brake. The origin of these signals will be discussed in connection with the description of the velocity comparator 108.
The brake control subsystem 105 and the motor control subsystem 106 each receive an ACTUAL LOAD voltage signal related to the actual load on the elevator 75 from the elevator load control subsystem 107 on lines 136B and 136M, respectively. Moreover, from the elevator load control subsystem 107, the brake control subsystem 105 receives an appropriately scaled INITIAL LOAD voltage signal on a line 138B while an appropriately scaled INITIAL LOAD voltage signal is input to the motor control subsystem 106 on a line 138M. The derivation of these load signals is discussed in connection with the elevator load control 107.
Although the interaction of the logic 109, the brake control subsystem 105 and the motor control subsystem 106 is set forth in detail herein, for present purposes it should be noted that the logic 109 outputs MOTOR RUN voltage signals to the brake control subsystem 105 and to the motor control subsystem 106 on lines 104B and 140M, respectively. A BRAKE RUN signal on a line 142 is output from the logic 109 to the brake control subsystem 105. The logic 109 receives a MOTOR MODE SELECT command on a line 144 from the computer channel B. The logic 109 receives a BRAKE MODE SELECT command from the channel C on a line 145. As mentioned earlier, the motor control subsystem 106 receives a signal from the override switch 103 on the line 104. As is more clearly shown herein, information concerning a manual override is transmitted from the motor control subsystem 106 to the brake control subsystem 105 on a line 147.
Computer channels H and I respectively output CREEP and CREEP TO ENGAGE CLUTCH to the motor control subsystem 106 on lines 150 and 151. Upon receipt of a CREEP signal on the line 150, the motor control subsystem 106 outputs a signal CREEP FLIP-FLOP to the brake control subsystem 105 on a line 152.
The ouput signal from the brake control subsystem 105 is carried by a line 158 to the brake actuator 99. The output signal from the motor control subsystem 106 is carried by a line 159 to the motor drive 93 (through a converter 274). In the preferred embodiment of the invention, both of these output signals are 4-20 mA current signals. In general, it may be stated that current signals are preferred for carrying information over the longer of the conduction paths used in the preferred embodiment. Current signals provide high noise immunity over long cable runs through electrically noisy environments.
As alluded to earlier, the AUTO/MANUAL bus is connected to the drawworks control system 21, and in particular, to the motor control subsystem 106 by the line 111. The effect of this signal, as discussed in detail herein, is to isolate the motor and brake control output signals from their associated controlled apparatus. The loss of AUTO/MANUAL bus volage de-energizes the coils 112 and 113. The effect of de-energizing the coil 112 is to interrupt the motor control output line 159. In the case of the coil 113, de-energization thereof opens a brake solenoid valve 114 to disconnect the brake pneumatic system (FIG. 7) from the cylinder 100.
The brake control subsystem 105 and the motor control subsystem 106 are basically similar to each other, at least insofar as to the basic operating principles. They can, therefore, be discussed together to illustrate how each of the above-enumerated inputs interact to generate brake or motor control output signals. They differ, of course, in the implementation thereof due to differences in technical requirements and functions to be performed. Preferred embodiments of each subsystem are discussed herein.
Referring to the simplified block diagram shown in FIG. 4, the six enumerated inputs utilized in generating an output control signal from either the brake or motor control subsystems are: the COMMAND VELOCITY; the COMMAND POSITION; the ACTUAL VELOCITY; the ACTUAL POSITION; the ACTUAL LOAD; and, the initial load signal multiplied by a predetermined constant. (This last-mentioned signal is symbolized hereinafter by INITIAL LOAD. (KN), where N-1 or 2). In both the motor and the brake control subsystems, the first two listed signals are provided by the computer using certain input rig data, operating conditions, etc. The next-three listed signals are instantaneously provided by outputs from the transducers. The last mentioned input signal is an appropriately scaled representation of the initial load on the elevator taken while the elevator is in a relatively static condition. The scaling factor is selected by an experienced driller to define an acceptable range within which the instantaneous actual load may deviate from the static load during displacement of the traveling block. It is noted that the scaling factor K is different for each subsystem.
In operation, as seen in FIG. 4, the analog signal representative of the actual position of the traveling block (ACTUAL POSITION) is subtracted at a differential amplifier 200 from the analog signal representative of the predetermined final position selected by the computer (COMMAND POSITION). The resulting difference, or position error signal Ep, taken from the output of the differential amplifier at the node 201 is summed at a summing junction 202 with the ACTUAL VELOCITY signal to define a position error plus velocity signal, EP +V. The COMMAND VELOCITY signal is input to an amplifier 204 and a series diode, the combination of which acts as a limiter to limit the magnitude of the position error signal EP present at the node 201. This effectively results in the magnitude of the COMMAND VELOCITY signal establishing a maximum velocity at which the traveling block is displaced from a first to a second predetermined position. The position error plus velocity signal, Ep +V, together with a signal related to a load factor VLF, are input to a difference amplifier 208. At the output 210 of the difference amplifier 208 is a total error signal ET, from which the output signal of the motor or brake control subsystem is derived.
The load factor signal VLF is derived from the ACTUAL LOAD and the INITIAL LOAD. (KN) signals. These signals are summed algebraically the input to an amplifier 212. If the ACTUAL LOAD signal deviates from the intitial static elevator load by a fraction greater than the appropriately selected scaling constant KN, an output is emitted from the amplifier 212 related to the difference. This output is the load error, or load factor VLF. An adjustable portion of the load factor signal (adjustable through the potentiometer KL) is input to an amplifier 214, the output of which is applied as the scaled load factor signal (KL). (VLF) to the difference amplifier 208. The effect of the load factor signal VLF is to change the total error signal ET in a direction such as to reduce the drawworks velocity otherwise prevailing. Of course, if the load factor signal VLF is zero (indicating that the actual load on the elevator during the movement has not exceeded the allowed range of deviations from the initial static load) the total error signal ET is then derived exclusively from the position error plus velocity signal, EP +V.
The total error signal ET, comprised of the above-mentioned input factors, is, in effect, used as an input to a closed-loop servo control system operative to drive the controlled elements, either the drawworks motor or drawworks brake, in a manner so as to change the total error signal in a direction such as to reduce the drawworks velocity otherwise prevailing. In accordance with this invention, the total error signal ET is applied as the input to an integrator-amplifier network 218. When the total error signal ET reaches zero, the output 220 of the integrator-amplifier network 218 is constant and uniform drawworks velocity is maintained. The output 220 of the integrator-amplifier network 218 operates to maintain the drawworks motor or brake at the velocity producing the zero total error signal ET.
As may be appreciated, the magnitude of the total error signal ET determines the rate of change of velocity. The greater the absolute magnitude of ET, the greater is the rate of change of block velocity--effected either by increased driving signals to the drawworks motor or decreased application of the drawworks brake. The smaller the absolute magnitude of ET, the smaller is the rate of change of block velocity--either through decreased driving signals to the drawworks motor or increased application of the drawworks brake. To reiterate, however, the nature of the motor and brake control subsystems is such that the magnitude of the total error signal ET tends toward zero. As the magnitude of the output of the integrator-amplifier network 218 increases, the motor speeds up (if in motor mode) or the brake goes on (if in brake mode), as explained in connection with FIGS. 5 and 6.
The load factor VLF tends to change the total error ET so as to reduce the hoisting or lowering velocity. The effect of the load factor VLF is to limit the actual velocity of the traveling block to a value less than the programmed command velocity and a value necessary to maintain the instantaneous elevator load within the range of limits set by the factor KN.
Having described the general operating principles behind the drawworks brake and motor control subsystems, reference is invited to FIGS. 5 and 6, which are simplified signal diagrams patterned upon the signal diagram of FIG. 4 and which are directed toward the brake control subsystem 105 and the motor control subsystem 106, respectively. FIGS. 5 and 6 elaborate more fully upon an operative embodiment of both the brake and motor control subsystems. In the Figures, the prevailing polarity at the designated circuit points are indicated by reference symbols comprising circled positive or circled negative signs.
In both FIG. 5 (brake) and FIG. 6 (motor), those inputs recited in connection with FIG. 4 are, of course, utilized, and need not be summarized again. In FIG. 5, the position signals are input to the terminals of the differential amplifier 200B, as shown. The position error signal (EP)B is adjustable through a potentiometer (KP)B and amplified by an amplifier 230B having a resistor 231B at its output. At the node 201B, the readjusted portion of the position error signal (KP)B.(EP)B from the output of the amplifier 230B is connected to the summing junction 202B through a resistor 232B. The ACTUAL VELOCITY signal is connected through a resistor 233B to the junction 202B.
The magnitude of the adjusted position error signal (EP)B.(KP)B at the node 201B is limited by the magnitude of the COMMAND VELOCITY signal taken through the amplifier 204B and the diode 234B. In effect, the magnitude of the voltage at the node 201B is equal to the output of the amplifier 200B (adjusted by (KP)B) as long as the adjusted position error is less than the magnitude of the COMMAND VELOCITY. If the magnitude of the position error exceeds the magnitude of the COMMAND VELOCITY signal, it is limited thereby and the COMMAND VELOCITY signal is summed at the junction 202B. In this manner a maximum velocity for the lowering motion of the block is programmed by the computer. The composite position error plus velocity signal (EP +V)B (appropriately limited by the COMMAND VELOCITY if necessary) is applied to the inverting input of the difference amplifier 208B.
The non-inverting input to the difference amplifier 208B is presented with a signal related to the load factor signal (VLF)B derived from the load signals input to the brake control subsystem 105. Note that the INITIAL LOAD signal input is scaled by a factor (-K1), chosen by a skilled well operator for reasons discussed in connection with the elevator load control subsystem 107. The load signals are connected through resistors 235B and 236B and algebraically summed at the amplifier 212B. The output of the amplifier 212B is the basic load factor signal (VLF)B indicative of the magnitude by which the actual load differs from a predetermined fraction K1 of the initial static load. This load factor signal is connected through a diode 237B to the potentiometer (KL)B. The amplifier 214B is connected to the potentiometer (KL)B, with the amplifier output being connected to the difference amplifier 208B. The voltage value input to the difference amplifier 208B is, of course, equal to zero or to the value (KL)b.(VLF)B. A zero output signal is present at the amplifier 214 output as long as the ACTUAL LOAD signal is greater than or equal to the absolute value of the product of INITIAL LOAD.(-K1). However, if the ACTUAL LOAD signal is less than the absolute value of the quantity defined, an output signal equal to the magnitude by which the ACTUAL LOAD is exceeded is applied ot the potentiometer (KL)B. This is the basic load factor signal (VLF)B applied for scaling by the potentiometer (KL)B.
The total error signal (ET)B at the output 210B of the difference amplifier 208B is applied to the integrator-amplifier network 218B. The magnitude of the output of the integrator-amplifier 218B on the line 220 determines the velocity at which the block is moved downwardly. In general, the larger the signal on the line 220, the smaller is the block velocity. The net braking effort is proportional to the output signal from the integrator-amplifier 218B. That is, the smaller the signal on the line 220, the less the brake is applied, and the faster the block moves downwardly. The effect of a load factor signal, if one is present, is to reduce the velocity of the block. Thus, the block is limited in its velocity to the lower of the maximum COMMAND VELOCITY programmed into the computer (which limits the signal at the node 202B) or the velocity level required to maintain the elevator load at the predetermined factor K1 of the initial value.
In the drawworks brake control subsystem the integrator-amplifier network 218B comprises two parallel conduction paths. The total error signal (ET)B is split at a node 238B, with an adjustable portion thereof taken by a potentiometer (KFF)B and input to an amplifier 239B connected to a resistor 240B. This path improves the overall dynamic response of the network 218B to step-changes in the total error signal. The other parallel branch includes a potentiometer (KINT)B which presents an adjustable portion of the error signal (ET)B to an integrating amplifier 241B. The output of the integrating amplifier 241B is connected to a resistor 242B and summed at a junction 243B. The signal at the junction 243B is input to an amplifier 244B.
The brake control subsystem output signal at 220B is carried by a resistor 245B to a voltage-to-current converter 246B. This network converts the signal output to a current for reasons discussed. A negative reference voltage is applied to the current-to-voltage converter 246B through a resistor 247B. The reference voltage is summed with the brake signal on the line 220B. The difference signal (since the polarities are opposite) is converted to a 20-4 mA current signal and is presented on the line 158 to the brake actuator 99, which includes an electronic-to-pneumatic interface 102 described in full detail hereinafter. Connected within the brake actuator 99 is the brake solenoid valve 114 (FIG. 3).
The electronic-to-pneumatic interface 102 associated with the brake actuator 99 is illustrated schematically in FIG. 7. As discussed previously, movement of the actuator lever 97 against the bias of the spring 98 moves the brake (FIG. 2) toward the release position. The lever 97 is physically connected to the piston cylinder arrangement such that the introduction of a pressurized fluid into the cylinder 100 moves the piston 101 and the lever 97 attached thereto so as to disengage the brake. It is apparent that the force applied to the brake lever 97 by the piston 101 is proportional to pressure of the fluid in the cylinder 100. As discussed immediately above, the output of the voltage-to-current converter 246B is a current signal the magnitude of which determines the degree to which the brake is applied. The output line 158, (together with a common line) is connected to a current-to-pressure transducer 265. Of course, the output signal on the line 158 may be operated upon by any suitable signal conditioners, ramp or delay circuits or the like, in a manner known to those skilled in the art.
Dependent upon the magnitude of the input current signal, the transducer 265 outputs a three-to-fifteen p.s.i. air signal on a line 266 connected to a high-volume three-to-one booster relay 267. The output of the booster relay 267 is applied through a line 268 to the brake air cylinder 100. The output of the relay 267 is limited by a regulator 269 disposed in a line 270 from the supply to the relay 267. Similarly, the output of the transducer 265 is held within predetermined limits by a regulator 271 disposed within a line 272 connecting the downstream side of the regulator 269 to the transducer 265.
Disposed downstream of the booster relay 267 in the line 268 is the brake solenoid valve 114. In the event of an interrupt, or any other condition resulting in the deenergization of the AUTO/MANUAL bus, the valve 114 disconnects the booster 267 from the cylinder 100 and vents the cylinder 100 to atmosphere, thus applying full braking effort. In connection with the FIG. 7, it is noted that the operator may manually override the brake control subsystem by applying a physically superior force on the lever 97 in opposition to the force of the fluid within the cylinder 100. An electrical override sigal applied to the line 104 by actuating of the switch 103 would be a preferred means of overriding the brake (FIG. 3). The effect of such an override signal on the motor and brake subsystems is discussed herein. Similarly, the brake may be released by manually applying a force to overcome the force of the spring 98.
Shown in FIG. 6 is a simplified signal diagram for the motor control subsystem 106. The operation of the motor control subsystem 106 is very similar to that discussed in connection with the brake control subsystem 105. The position error signal (EP)M at the output of the differential amplifier 200M (derived from the difference between the COMMAND POSITION and ACTUAL POSITION signals) is adjustable through a potentiometer (KP)M and amplified by the amplifier 230M having a resistor 231M tied to the output thereof. The adjusted portion of the position error signal (KP)M.(EP)M at the output of the amplifier 230M is connected to the summing junction 202M through a resistor 232M. The ACTUAL VELOCITY signal is connected to the summing junction 202M through a resistor 233M.
The magnitude of the adjusted position error signal (EP)M at the node 201M is limited by the magnitude of the COMMAND VELOCITY signal taken through the amplifier 204M and the diode 234M. The magnitude of the voltage at the node 201M is equal to the output of the differential amplifier 200M (adjusted by (KP)M) as long as the adjusted position error is less than the magnitude of the COMMAND VELOCITY signal. If the magnitude of the position error exceeds the magnitude of the COMMAND VELOCITY signal, it is limited thereby and the COMMAND VELOCITY signal is summed at the summing junction 202M. The effect of the above-described arrangement is to effectively limit the maximum velocity of the block while it is being hoisted. This maximum velocity is programmable into the computer and protects the bore from the detrimental effects of swabbing. The appropriately limited (if necessary) composite position error plus velocity signal (EP +V)M is presented to the inverting input of the difference amplifier 208M.
To the non-inverting input of the difference amplifier 208M is applied a signal related to the load factor signal (VLF)M, derived from the load signals input to the motor control subsystem 106, including the ACTUAL LOAD and the INITIAL LOAD scaled by the appropriate factor (-K2). The load signals are algebraically summed at the input of the amplifier 212M. The output of the amplifier 212M is the basic load factor signal (VLF)M. It represents the difference between the ACTUAL LOAD and the INITIAL LOAD multiplied by a factor (K2). The load factor signal is connected through a diode 237M to the potentiometer (KL)M. The output of the potentiometer (KL)M is applied through the amplifier 214M to the difference amplifier 208M. The voltage applied to the difference amplifier 208M is equal either to zero or the adjusted load factor (KL)M.(VLF)M. A zero signal is present at the output of the amplifier 214M as long as the ACTUAL LOAD signal is less than or equal to the absolute value of the INITIAL LOAD signal scaled by a factor K2. Thus, the actual load may range as high as (INITIAL LOAD).(K2) without causing a load factor output. However, if the ACTUAL LOAD increases beyond the INITIAL LOAD multiplied by a factor K2, an output signal equal to the difference between the ACTUAL LOAD and the scaled INITIAL LOAD is applied to the potentiometer (KL)M. This load factor output is suitably scaled by the potentiometer (KL)M.
The total error signal (ET)M is applied to the integrator-amplifier network 218M. The magnitude of the output of the integrator-amplifier network 218M on the line 220 determines the velocity at which the block is moved upwardly. In general, the larger the signal on the line 220, the greater is the block velocity and the larger the total error signal (ET)M, the greater is the rate of change of velocity. That is, the greater the total error signal (ET)M, the larger the driving current input to the motor, and the faster the block moves upwardly. The load factor signal, if present, changes the total error signal so as to reduce the velocity of the block. The maximum lifting velocity attainable is that predetermined by the computer program. The dynamic loading on the block is limited by controlling the velocity at which the block is lifted. This prevents excessive damage to the bore during hoisting by excessive hydrostatic forces caused by excessive hoisting velocity.
As in the brake control subsystem, the integrator-amplifier network 218M in the motor control subsystem 106 includes first and second parallel paths. The total error signal (ET)M is split at the node 238M, with an adjustable portion thereof taken by a potentiometer (KFF)M and to the inverting input of the amplifier 244M. This path improves the overall dynamic response of the integrator-amplifier 218M to step-changes in the total error signal. The other parallel branch includes a potentiometer (KINT)M which takes an adjustable portion of the total error signal and inputs that signal to the integrating amplifier 241. The output of the integrating amplifier 241M is presented to the non-inverting input of the amplifier 244M.
The output 220M of the integrator-amplifier network 218M is applied to a voltage-to-current converter 246M through a resistor 245M. A 4-20 MA current signal proportional to the voltage output of the integrator-amplifier network 218M is connected by the line 159 to the motor drive 93, which drive 93 includes a suitable current-to-voltage converter 274 discussed herein. Within the motor control subsystem 106 is the solenoid relay 112, operable to interrupt the current flow from the converter 246M to the current-to-voltage converter 274. The output of the converter 274 is connected to the motor drive 93.
Within current-to-voltage converter 274, the current signal ouput on the output line 159 of the motor control subsystem 106 is applied to a resistor 275 connected at its opposite end to a negative potential. The negative potential may be supplied by a reference amplifier network, including a feedback path around a transistor, in a manner known to those skilled in the art. The voltage present across the resistor 275 is applied to the non-inverting input of an amplifier 276 driving a transistor 277 to define a unity gain voltage follower. The output voltage signal taken at the emitter of the transistor 277 is connected to the motor drive 93 to drive the drawworks motor 92 at a speed related to the output of the integrator-amplifier network 218M.
Detailed descriptions of the brake control subsystem 105, the motor control subsystem 106 and the logic 109 are now set forth.
BRAKE CONTROL SUBSYSTEM SCHEMATIC
Referring to FIG. 8, the detailed description of the brake control subsystem 105 is shown. The COMMAND POSITION signal is input on the line 115B (FIG. 3) and connected through a resistor 284 to the inverting input of the differential amplifier 200B. The ACTUAL POSITION signal is input on the line 116B and is presented to the non-inverting input of the differential amplifier 200B through the resistor 285. The non-inverting input is connected through a resistor 286 to ground potential. Both the ACTUAL and COMMAND POSITION signals are current signals. They are each converted to an appropriate voltage for application to the differential amplifier 200B by the resistor arrangement of 287, 288, 289 and 290 connected, as shown, in pairs between the position input signals and a negative potential. The output of the differential amplifier 200B is fed back to the inverting input through a resistor 291. This resistor, in combination with the resistor 284, determines the amplifier gain. A capacitor 292 reduces the amplifier's high-frequency response. The output is also taken by a line 293 to the non-inverting input of a final position comparator 294, discussed in more detail herein. The output of the differential amplifier 200B is connected to the potentiometer (KP)B. An adjustable portion of the position error signal is presented through a resistor 295 to the non-inverting input of the amplifier 230B. The inverting input of the amplifier 230 is connected through a resistor 296 to the wiper of a potentiometer 297, the high end of which is tied to a negative potential through a resistor 298. The purpose of the potentiometer 297 is to set a minimum velocity. The output of the amplifier 230B is fed back through a resistor 299 to the inverting input thereof. This, in combination with the resistor 296, determines the amplifier gain. The output of the amplifier 230B is tied through the resistor 231B to the node 201B which is also connected to the output of the amplifier 204B through the diode 234B. The COMMAND VELOCITY signal is input from the line 132B to the non-inverting input of the amplifier 204B through the resistor 300. The inverting input is connected to the output through the resistor 301 and the diode 234B. The effectively fixes the amplifier gain at unity. Since the output is taken at the junction of the resistor and the diode, the effects of diode voltage drop are eliminated. The limiting effect of the diode 234B in combination with the amplifier 204B on the potential at the node 201B has been previously discussed.
The signal at node 201B is connected to the summing junction 202B through the resistor 232B. At the summing junction the composite position error plus velocity signal is formed, as discussed, by the summation of the adjusted position error signal with a signal representative of the ACTUAL VELOCITY taken from the input line 134B through the resistor 233B. The velocity signal may be derived from the drum tachometer 94, or, alternatively, from the block position transducer 83. The ACTUAL VELOCITY signal is applied to the inverting input of a comparator 302 by a line 356, as discussed herein. The signal at the summing junction 202B is presented to the inverting input of the difference amplifier 208B. The non-inverting input is connected to ground through a resistor 303. As discussed, however, the non-inverting input of the difference amplifier 208B is also presented with an adjusted portion of a load factor signal.
ACTUAL LOAD signals are input of the line 136B and the appropriately scaled (INITAL LOAD).(K1) signal is input on the line 138B. These are summed at the inverting input of the amplifier 212B through the resistors 235B and 236B, respectively. The non-inverting input of the amplifier 212B is connected to ground potential through a resistor 304. The output of the amplifier 212B is fed back to the inverting input through a loop including the diode 305 and the resistor 306. The output of amplifier 212B is connected through the diode 237B to the potentiometer (KL)B. The cathode of the diode 237B is connected with the inverting input of the amplifier 212B through a resistor 307. The wiper of the potentiometer is connected through a resistor 308 to the non-inverting input of the amplifier 214B. The inverting input is connected to ground potential through a resistor 309. The output of the amplifier 214B is fed back to the inverting input thereof through the resistor 310 and is also connected to the non-inverting input of the difference amplifier 208B through a resistor 310A.
The output of the difference amplifier 208B is connected to the integrator-amplifier network 218B. The output is also fed back to the inverting input through the resistor 311. The integrator-amplifier network 218B takes the output of the difference amplifier 208B from the node 238B (FIG. 8B) along parallel conduction paths. Once such path includes the potentiometer (KFF)B, the wiper of which is connected to the inverting input of the amplifier 239B through a resistor 312. The non-inverting input is tied to ground potential through a resistor 313. The output of the amplifier 239B is fed back through a resistor 314 to the inverting input thereof and is also connected to the node 243B through the resistor 242B. The second parallel path includes the potentiometer (KINT)B, the wiper of which is connected through a resistor 315 to the inverting input of the integrating amplifier 241B. The non-inverting input of the amplifier 241B is tied to ground potential through a resistor 316. The offset of the integrating amplifier 241B is set to zero by a potentiometer 317. The output of the integrating amplifier 241B is fed back through a capacitive network 318 to the inverting input thereof. The output is also connected to the node 243B through the resistor 240B. The signals at the node 243B are applied to the inverting input of the amplifier 244B. The non-inverting input is tied to ground potential through a resistor 319. The output of the amplifier 244B is fed back to the inverting input through a resistor 320.
The output 220B of the integrator-amplifier network 218B is connected through a potentiometer 321 and the resistor 245B to the inverting input of an amplifier 322. This input signal is summed with a reference signal developed across the zener diode 331 and is applied through the combination of resistors 329 and 333 and a potentiometer 330. The network including amplifiers 322 and 324 forms a voltage-to-current converter. The output of the amplifier 322 drives the NPN-type transistor 324 connected as an emitter follower. The collector of the transistor 324 is tied to a positive potential. The signal at the emitter of the transistor 324 is fed back to the inverting input of the amplifier 322 through a resistor network 325. These resistors, in combination with the resistor 245B and the potentiometer 321 establish the conversion gain of the network 246B. The output of the brake control subsystem 105 is taken from the emitter of the transistor 324 at the junction of the resistors 326 and 327 and is carried by the output line 158. The emitter of the transistor 324 is connected to the ungrounded side of the resistor 323 through the series connection of the resistors 326 and 327 and a potentiometer 328. This combination of resistors makes the output of the line 158 a constant current source. The potentiometer is adjusted to make the output current independent of load resistance.
The inverting input of the amplifier 322 is connected through the resistor 329 and the potentiometer 330 to the anode of the zener diode 331. The anode of the diode 331 is also tied to a negative potential through the resistor 247B. The resistor 333 shunts the resistor 329. This network acts to set an initial signal output in the line 158.
A brake control override 334 is operative in response to a BRAKE RUN signal from the logic 109 on the line 142 or in response to an override signal from the motor control subsystem 106 on the line 147 to impose a suitable voltage on the inverting inputs of the amplifiers 239B and 241B so that the brake is asserted regardless of the total error signal present at the output of the difference amplifier 208B. The line 142 BRAKE RUN from the logic 109 is connected through a diode 335 and a node 336 to switches 337 and 338. The override line 147 from the motor control subsystem 106 is connected to the node 336 through a diode 339. Both of the switches are connected at one side to a positive potential and at the other sides, through resistors 340 and 341, respectively, to the inverting inputs of the amplifiers 239B and 241B. When energized, the positive potentials are presented to the amplifiers such that the brake is imposed--i.e. the brake is applied--regardless of the magnitude of the total error output signal from the difference amplifier 208B.
Another override circuit of a sort is provided at 342. This network response to a MOTOR RUN signal from the logic 109 on the line 140B to release the brake despite the signal input to the amplifier 244B. The logic 109, in general, outputs a MOTOR RUN signal when in receipt of a MOTOR MODE SELECT signal, as is discussed fully herein. The line 140B is connected to a switch 343. The switch 343 is connected at one side to a positive potential and at the other side through a resistor 344 to the inverting input of the amplifier 244B. When the switch 343 is energized, the positive potential is applied to the inverting input of the amplifier 244B. This has the effect of maintaining the output of the amplifier 244B at zero volts. A 20 mA output signal from the converter 246B to the output line 158 due to the reference signal input is effective to fully release the brake. The zener diode 345 prevents the output of the amplifier from going negative and limits the positive output of the amplifier 244B to the zener voltage. The application of the MOTOR RUN output on the line 140B from the logic 109 is discussed herein.
Various other components illustrated in FIG. 8A, but not as yet discussed, are now set forth for future reference. The position error signal from the differential amplifier 200B on the line 293 is applied to the inverting input of the position comparator 294. A signal derived from a final position potentiometer 351 connected to a positive potential through a resistor 352 is applied through a resistor 350 to the non-inverting input of the comparator 294. The potentiometer 351 sets a predetermined voltage signal so that when the position of the block is within a predetermined close distance of the command position, the comparator 294 output signal connected through a resistor 353 and a diode 354 switches from a logic 0 to a logic 1. This signal is carried by a line 355 into the logic 109.
Similarly, the brake release comparator 302 derives its inverting input from the ACTUAL POSITION signal on the line 356. The non-inverting input is connected through a resistor 357 to a point between resistors 358 and 359 connected in series between a positive potential and ground. The comparator 302 is connected through a resistor 360 and a diode 361 and carried by a line 362 to the logic 109. This establishes a switching threshold voltage for the comparator 302, and thus a threshold velocity. During the motor mode, the ACTUAL VELOCITY is positive. During the motor mode, when the velocity exceeds the threshold velocity, the comparator switches so that the line 362 switches from a logic 1 to a logic 0. The function of this network is to "release" the brake above some threshold velocity. Note that the line 355 and the line 362 have been omitted from FIG. 3 for clarity.
The CREEP FLIP-FLOP line 152 output from the motor control subsystem 106 (FIG. 3 ) is input to the brake control subsystem 105 and to a switch 365 thereof. The switch 365 is connected between the inverting inputs of the integrating amplifier 241B (FIG. 8B) and the difference amplifier 208B output, and in series with a resistor 366 (FIG. 8A). A junction diode 368 is connected between the junction of the switch 365 and the resistor 366 and ground. This network is provided so that when a signal is present on the line 152 the integrator gain is effectively increased so that the integrator-amplifier 218B responds more rapidly to the small creep velocity signal.
LOGIC OPERATION
The logic 109 includes input lines 144 (MOTOR MODE SELECT) and 145 (BRAKE MODE SELECT) from the computer channels B and C respectively (FIG. 3). Output lines 140B (MOTOR RUN) and 142 (BRAKE RUN) from the logic 109 are connected to the overrides 334 and 342 (FIG. 8B) within the brake control subsystem 105 as discussed above. The output line 140M (MOTOR RUN) (FIGS. 3 and 8A) from the logic 109 is input to the motor control subsystem 106. The logic 109 includes cross-coupled NAND gates 370C and 370D coupled with inverter gates 370A and 370B. These are connected to form an EXCLUSIVE OR function. The purpose of that portion of the logic 109 is to ascertain that only one signal-either MOTOR MODE SELECT from channel B of the computer of BRAKE MODE SELECT from channel c--is effective at one time. If both are asserted, for any reason, neither is effective due to the EXCLUSIVE OR gating described. The logic 109 also includes NOR gates 382, 384 and 386. The NOR gate 382 is input with one output of the NAND gate 370C and at the other with the line 355 from the final position comparator 294. The NOR gate 384 is input at one terminal with the output of the NAND gate 370D and at the other with the line 362 from the velocity comparator 302. The output of the NOR gate 384 is carried from the logic 109 on the line 140B (MOTOR RUN) to the switch 343 in the override 342 (FIG. 8B) to assert the MOTOR RUN function thereof. The output of the NOR gate 384 is also input to the NOR gate 386. The other input to the NOR gate 386 is derived from the output of the NOR gate 382. The output of the gate 386 is carried from the logic 109 by the line 142 (BRAKE RUN) to the brake control override 334 (FIG. 8B) to assert the BRAKE RUN function thereof.
The tied inputs of the inverter gate 370A are connected to the line 145, BRAKE MODE SELECT, through a diode 371 and a capacitor 372. The inputs are normally high, due to their connection to a positive potential connected through a resistor 373. The tied inputs of the inverter gate 370B are connected to the line 144, MOTOR MODE SELECT, through a diode 374 and a capacitor 375. These inputs are normally high due to the positive potential connected through the resistor 376. This portion of the logic 109 functions to accept only one signal-either MOTOR MODE SELECT from channel B or BRAKE MODE SELECT from channel C--from the computer at one time. If, for any reason, the lines 144 and 145 are both asserted (logic 0), the EXCLUSIVE OR functions to make neither signal effective. Note the output of the NAND gate 370D is connected to the motor control subsystem 106 on the line 140M.
If the computer asserts the BRAKE MODE SELECT line 145 (i.e., the block is traveling downward) and if this is the only asserted signal (as checked by the EXCLUSIVE OR) the motor control subsystem 106 is disenabled on the line 140M and the NOR gates 382, 384 and 386 operate to switch the line 142 to logic 0, thus not asserting the BRAKE RUN function (on the line 142). During the greater part of the downward journey of the block, the brake control subsystem 105 operates on the basis of the total error to modulate the brake and control the block velocity within the command limits. As the block approaches the final position, an output from the final position comparator interacts with the logic 109 to assert the BRAKE RUN function (on the line 142) and sets the brake to stop the block.
Therefore, with a BRAKE MODE SELECT input on the line 145, and MOTOR MODE SELECT on the line 144 not asserted, for the greater part of the downward movement of the block the following conditions would prevail: The A and B terminals of the inverter gate 370B and the B terminal of the NAND gate 370C are at logic 1 condition. Both terminals of the inverter gate 370A and the A terminal of the NAND gate 370D are in the logic 0 condition.
The output of the inverter gate 370A is therefore a logic 1, placing this condition (logic 1) at the A input of the NAND gate 370C. The output of the inverter gate 370B is a logic 0, placing this condition at the B input of the NAND gate 370D. Thus, the output of the NAND gate 370C is at logic 0 and the output of the NAND gate 370D is at logic 1. These are the conditions at the A input of the NOR gate 372 (logic 0 from the output of the NAND gate 370C) and at the A input of the NOR gate 374 (logic 1 from the output of the NAND gate 370D). Note that the logic 1 at the output of the NAND gate 370D is carried by the line 140M to the motor control subsystem 106 enabling the motor override network therein.
With regard to the NOR gate 384, the presence of a logic 1 at the A input thereof insures that the output thereof is a logic 0, despite the signal presented at the B input leading from the velocity comparator 302 on the line 362. Thus, the output from the NOR gate 384 and the B input of the NOR gate 386 are both at logic 0 as long as a BRAKE MODE SELECT condition is present on the line 145. Accordingly, the output line 140B from the NOR gate 384 in the logic 109 to the override 342 is a logic 0. That is, the MOTOR RUN function is not asserted. Note that the output of the velocity comparator 302 is not effective to release the brake in a BRAKE MODE SELECT condition.
With regard to NOR gate 382, the A input thereof is at a logic 0 at all times that a BRAKE MODE SELECT is asserted on the line 145. The B input to the NOR gate 382 is derived from the output of the final position comparator 294 on the line 355. Therefore, during the greater portion of the downward travel of the block, the output on the 355 to the B input of the NOR gate 382 is at a logic 0. Thus, the output of the NOR gate 382 is a logic 1. The logic 1 input condition to the A input of the NOR gate 386 results in the situation that as long as the block is greater than the threshold distance (set by the potentiometer 351) from the final, command position, the line 142 (BRAKE RUN) is at logic 0, allowing the normal control subsystem functions derived from the magnitude of the total error signal (ET)B to be controlling the velocity of the block.
However, as the block approaches the final position, the output of the comparator 294 switches and provides a logic 1 output on the line 355 connected to the B terminal of the NOR gate 382. This results in the output thereof, and the A input to the NOR gate 386, switching to a logic 0. As a result, the output of the NOR gate 386 goes to a logic 1, and BRAKE RUN output line 142 is energized. With a logic 1 at the output of the NOR gate 386 and on the line 142, the switches 337 and 338 are turned on. With such an occurrence full braking is applied since the positive inputs to the amplifiers 239B and 241B override the normal brake control subsystem, thus setting the brake when the position error has reached an acceptably low value.
If the computer asserts the MOTOR MODE SELECT line (i.e., the block is hoisted upwardly) and if this is the only asserted signal (as checked by the EXCLUSIVE OR) the motor control subsystem is enabled on the line 140M (MOTOR RUN). However, the brake is kept asserted by the logic 109 even though the computer has asserted the motor mode, until the block reaches a predetermined threshold velocity. This is implemented as set forth herein.
With the MOTOR MODE SELECT signal on the line 144, the A and B terminals to the inverter gate 370A are at a logic 1 condition along with the A input of the NAND gate 370D. The A and B inputs to the inverter gate 370B, and the B input to the NAND gate 370C, are at a logic 0 condition. Thus, the output of the inverter gate 370A, and the A input to the NAND gate 370C, are at a logic 0 condition. Accordingly, the output of the NAND gate 370C and the A input to the NOR gate 382 are in a logic 1 condition. The output of the inverter gate 370B, and the B input of the NAND gate 370D are in a logic 1 condition. Accordingly, the output of the NAND gate 370D and the A input to the NOR gate 384 are in a logic 0 condition. The output of the NAND gate 370D is conducted to the motor control subsystem 106 on the line 140M. The motor is, in effect, enabled because the MOTOR RUN line 140B is at logic 0.
With respect to the NOR gate 382, as long as a MOTOR MODE SELECT condition is asserted on the line 144, the A input is a logic 1. The output of the NOR gate 382, therefore, is at all times a logic 0, regardless of the signal present on the line 355 from the final position comparator 294. Thus, the position comparator in the brake control subsystem 105 is not effective during a MOTOR MODE SELECT condition. The A input to the NOR gate 386 is at all times a logic 0.
With respect to the A input of the NOR gate 384, it is at all times a logic 0. However, as long as the velocity at which the motor lifts the block is less than the velocity represented at the inverting input of the comparator 302, the output thereof on the line 362 connected to B input of the NOR gate 384 is a logic 1. Therefore, the output of the NOR gate 384 is a logic 0 as long as the velocity of the block is below the threshold. The B input of the NOR gate 386 is also a logic 0, resulting in a logic 1 output therefrom. Accordingly, the line 140B (MOTOR RUN) is not asserted (due to logic 0 at the output of the NOR gate 384) while the BRAKE RUN function at the output of the NOR gate 386 on the line 142 is asserted. The result is when the motor mode is selected (the override being disenabled), the brake is asserted as long as the velocity is below the defined threshold.
When the block is lifted at a velocity exceeding the threshold, the output of the velocity comparator 302 switches, placing a logic 0 at the B input of the NOR gate 384. The output thereof shifts to logic 1, asserting the MOTOR RUN function on the line 140B. The switch 343 is turned on, overriding the signals presented to the inverting inputs of the amplifier 244B. Thus, when the velocity exceeds the predetermined threshold velocity, the override 342 is enabled in the manner described to prevent unnecessary wear on the brake as the block is raised. Further, the B input to the NOR gate 386 is also switched to the logic 1 state, thereby placing a logic 0 at the output thereon, disenabling the BRAKE RUN function on the line 142.
Of course, during this period of the block travel, the velocity is controlled by the time integral of the total error (ET)M, as discussed. As the block nears its final position, the total error (ET)M tends to go positive thus decreasing the velocity of the block. As the velocity of the block falls below the threshold set by the velocity comparator 302, the output thereof switches back to a logic 1, changing the B input to the NOR gate 384, and switching the output of the NOR gate 384 to a logic 0. This disenables the MOTOR RUN line, and switches the output of the NOR gate 386 to a logic 1, enabling the line 142 (BRAKE RUN) to set the brake. As will be seen herein, within the motor control subsystem 106, a position comparator, similar to that discussed above, is operable when the block approaches within a predetermined distance to the command position, to assert a motor override and stop the hoisting motion.
MOTOR CONTROL SUBSYSTEM SCHEMATIC
Referring now to FIG. 9, a detailed description of the motor control subsystem 106 is set forth. The basic features of the motor control subsystem 106 are similar to those of the brake control subsystem 105, as seen in earlier discussions.
The COMMAND POSITION signal is input on the line 115M (FIG. 3) and connected through a resistor 402 to the inverting input of the differential amplifier 200M. The ACTUAL POSITION signal is input on the line 116M and is presented to the non-inverting input of the differential amplifier 200M through the resistor 403. The non-inverting input is connected through a resistor 404 to ground potential. Both the ACTUAL POSITION and the COMMAND POSITION signals are current signals and are converted to an appropriate voltage for application to the differential amplifier 200M by the resistor arrangement 405, 406, 407 and 408, connected in pairs between the input signals lines 115M and 116M and a negative potential. The output of the differential amplifier 200M is fed back through a resistor 409 to the inverting input. This resistor, in combination with the resistor 402, establishes the amplifier gain. The position error signal output is taken by a line 410 to the non-inverting input of a position comparator 412. The inverting input of the position comparator 412 is furnished with a signal derived from a potentiometer 414 connected to a negative potential through a resistor 415. The wiper of the potentiometer is connected through a resistor 416 to the inverting input. The position comparator 412 outputs a signal through a diode 417 to a line 418 when the position error signal at the output of the differential amplifier 200M is less than the voltage level as set by the potentiometer 414. As seen herein, this condition overrides the motor control to shut off the motor.
The output of the differential amplifier 200M is connected through a resistor 420 to the potentiometer (KP)M. An adjustable portion of the position error signal, as set by (KP)M, is applied through a resistor 421 to the non-inverting input of the amplifier 230M. The inverting input of the amplifier 230M is connected through a resistor 422 to the wiper of a potentiometer 423 tied to a positive potential through a resistor 424. The purpose of the potentiometer is to set a minimum velocity signal. The output of the amplifier 230M is fed back through a resistor 425 to the inverting input thereof. The output of the amplifier 230M is tied through the resistor 231M to the node 201M to which is also connected the output of the amplifier 204M through the diode 234M. The limiting effect at the node 201M of the combination of the amplifier 204M and the diode 234M has been discussed earlier in connection with the simplified signal diagrams of the drawworks motor control.
The signal at the node 201M is connected to the summing junction 202M through the resistor 232M. At the summing junction 202M the composite position error plus velocity signal, (Ep+V)M, is formed, as discussed, by the summation of the adjusted position error signal with the signal representative of the ACTUAL VELOCITY taken from the input line 134M through the resistor 233M. The velocity signal may be derived from the drum tachometer 94 or, alternatively, from the block position transducer 83. The ACTUAL VELOCITY signal is applied to the inverting terminal of a comparator 430, as is discussed herein. The signal at the summing junction 202M is applied to the inverting input of the difference amplifier 208M. The non-inverting input is connected to ground potential through a resistor 431. As discussed, however, an adjusted portion of a load factor signal is also applied to the non-inverting input.
An ACTUAL LOAD signal is applied on the line 136M and the appropriately scaled INITIAL LOAD. (-K2) signal is input on the line 138M. These load signals are summed at the inverting input of the comparator 212M through the resistor 235M and 236M, respectively. The non-inverting input of the amplifier 212M is connected to ground through a resistor 433. The output of the amplifier 212M is fed back to the inverting input through a loop including the diode 434 and the resistor 435 as well as the loop including a resistor 436 and a diode 437. These components in combination with the input resistors 235M and 236M establish the amplifier gain. The output of the amplifier 212M is connected to the potentiometer (KL)M. The output is taken from the junction of the resistor 436 and diode 437 to remove the effects of diode 437 voltage drop. The wiper of the potentiometer (KL)M is connected through the resistor 437 to the non-inverting input of the amplifier 214M. The inverting input of the amplifier 214M is connected to ground potential through a resistor 438. The output of the amplifier 214M is fed back to the inverting input through a resistor 439 and is also tied to the non-inverting terminal of the difference amplifier 208M.
The output of the difference amplifier 208M is connected to the integrator-amplifier network 218M (FIG. 9B). This output is also fed back to the inverting input through the resistor 440. The integrator-amplifier network 218M takes the output of the difference amplifier 208M from the node 238M along two parallel paths. One path includes the potentiometer (KFF)M, the wiper of which is connected to the inverting input of the differential amplifier 244M through a resistor 441. The second parallel path includes the potentiometer (KINT)M, the wiper of which is connected through a resistor 442 to the inverting input of the integrating amplifier 241M. The non-inverting input is tied to ground potential through the resistor 444. A potentiometer 445 sets the zero point of the integrating amplifier 241M. The output of the integrating amplifier 241M is fed back through a capacitive network 446 to the inverting input thereof. The output of the integrating amplifier 241M is connected through a resistor 447 to the non-inverting terminal of the amplifier 244M. The non-inverting terminal is also tied to ground potential through a resistor 448. The circuit details of the motor control subsystem differs from that of the brake control subsystem in that the parallel paths within the integrator-amplifier network 218M are not summed at a node 243B. Instead, the output of the integrating amplifier is combined differentially with the potentiometer output in the amplifier 244M. The output of the amplifier 244M is fed back through a parallel path including the resistors 449 and the diode 450.
The output 220M of the integrator-amplifier network 218M is connected through the resistor 245M to the voltage-to-current converter 246M. The converter 246M is substantially identical to the inverter described earlier in connection with the brake control subsystem 105 except for the magnitude of the reference voltage applied to the amplifier 453. The resistor 245M is connected to a potentiometer 451 and a resistor 452 through which it is also connected to the inverting input of an amplifier 453. The non-inverting input of the amplifier 453 is tied to ground through a resistor 454. The output of the amplifier drives a transistor 455 of the NPN type, the collector of which is connected to a positive potential. The emitter of the transistor 455 is fed back through a feedback resistive network 456 to the inverting input. The emitter is connected to the high side of the resistor 454 through a series connection of a resistors 457 and 458 and a potentiometer 459. The output of the motor control subsystem is taken at the junction of the resistors 457 and 458. The output line 159 has a relay contact operated by the coil 112 therein.
An initial voltage condition is applied to the inverting input of the comparator 453 and includes a resistor 461 and potentiometer 462 in series with a negative potential. A resistor 463 shunts the resistor 461. The purpose of this network is to supply a reference voltage so as to obtain a 4mA current output under a zero signal input condition.
The motor control subsystem 106 is connected (FIG. 9B) to the computer output channel I through the line 151. This line is connected though a diode 470 to the inputs of a NAND gate 471 having both the inputs tied to a positive potential through a resistor 472. A switch 473 is tied to a positive potential on one side, and on the other through a resistor 474 to the non-inverting input of the comparator 453 within the voltage-to-current converter 246M. Upon receipt of a CREEP TO ENGAGE CLUTCH command signal from the computer on the line 151 (line 151 goes to logic 0), a predetermined current signal is output to the motor drive 93 on the line 159 to move the motor 92 very slowly to permit the clutch to engage for further hoisting operations.
The motor control subsystem 106 has a CREEP control network 480 (FIG. 9A) connected therein. The network includes the inverting amplifier 430. The ACTUAL VELOCITY signal on the line 134M is applied to the non-inverting input through the resistor 481. The inverting input of the comparator 430 is tied to the ground potential through a resistor 482. The output of the comparator is fed back to the inverting and non-inverting inputs through the paths including the diode 483 and resistor 484, and the diode 485 and the resistor 486, respectively. The output of the amplifier 430 is connected through a resistor 487 to the inverting input of a creep comparator 490. The non-inverting input of the comparator 490 is connected through a resistor 491 to a voltage divider network including resistors 492 and 493 connected between a positive and ground potential.
The output of the creep comparator 490 is connected through a resistor 495 to the reset input of a creep flip-flop network 500. A diode 496 with a capacitor shunt 497 is connected between the reset input and ground. The set input of the flip-flop network 500 is connected through a diode 502 to the CREEP signal (channel H) from the computer on the line 150. The output of the flip-flop network 500 connected to the input of a switch 503. The output of the amplifier 208M is connected to a resistor 504A and a diode 504B in series. The switch 503 is connected between the junction of the resistor 504A and the diode 504B and the non-inverting input of the integrating amplifier 241M. The output of the flip-flop network 500 is also connected (through the line 152) to the switch 365 in the brake control subsystem 105 (FIG. 8A).
The purpose of a CREEP command is to slowly raise the traveling block so as to acquire the drill string load with the elevator as discussed in connection with the operation section earlier.
Upon receipt of the CREEP COMMAND a signal at the set input from the line 150 causes an output from the flip-flop network 500 to switch to logic 1. This closes the switch 503. This effectively increases the gain of the integrating amplifier 241M. At the same time, the output on the line 152 from the flip-flop network 500 closes the switch 365 in the brake control subsystem 105 to increase the gain of the integrating amplifier 241B (FIG. 8). Thus, the CREEP command signal, in conjunction with other signals, is used to slowly raise or lower the elevator to acquire or to release a load, as the case may be. Higher velocities are programmed after acquiring or releasing the load. When the velocity exceeds a creep threshold velocity determined by the combination of resistors 492 and 493, the comparator 490 switches to logic 0 to reset the flip-flop network 500 to the normal condition.
A motor control override network 510 (FIG. 9B) includes a primary and secondary override path connected to the MOTOR RUN line 140M. The line 140M is output from the logic 109 and when the motor control subsystem 106 is disenabled by the logic 109, the line 104M has a logic high signal thereon. The line 140M is connected to a diode 511, the output line from the diode 511 being indicated as MOTOR OFF line 512. The primary override path includes a zener diode 513 connected through a resistor 514 to the base of an NPN transistor 515. The emitter of the transistor 515 is connected to a negative potential. The emitter of the transistor 515 is tied to the anode of the zener diode 513 by a resistor 516. The collector of the transistor 515 is connected through a resistor 517 to a diode 518. The primary override is connected to the inverting input of the integrating amplifier 241M. The second path of the override 510 includes a switch 524 connected between the junction of resistors 525 and 526 and ground. The resistor 525 is tied to a positive potential. The non-inverting input of the amplifier 527 is tied to ground through resistor 528. The output of the amplifier 527 is applied through a diode 529 to the inverting input of the voltage-to-current converter 246M. The output is also fed back through the inverting input to a resistor 530.
When an appropriate signal (a logic 1) is received from the logic 109 on the line 140M, the motor control override 510 is actuated to effectively turn off the motor, regardless of the output of the amplifier 244M. When the signal on the line 140M is applied to the diode 511 the output is a signal on the MOTOR OFF line 512 which renders the transistor 515 conductive, effectively setting the output of the integrating amplifier 241 to zero. The secondary path, when in receipt of the MOTOR OFF signal on the line 512, renders the switch 524 conductive, grounding the junction of the resistors 525 and 526. This holds the input to the voltage-to-current converter 246M at zero. This precaution is taken since there may still be a signal at the output of the amplifier 244 even though the integrating amplifier 241M is overridden. The MOTOR OFF line 512 can be energized in ways other than by receipt of a computer command via the logic 109.
In order to shut the motor off when the position of the block comes within a predetermined close tolerance to the command position, an output signal from the position comparator 412 on the line 418 operates the override 510 in a manner exactly as discussed.
Further, when the operator asserts the override on the line 104, a signal is applied to an optical coupler 536 (FIG. 9A) acting as a switch. When energized the switch 536 connects a positive potential to the line 512 through a diode 537. A resistor 538 ties the line 512 to ground. Upon receipt of a manual override signal, the switch 536 is conductive, placing a high signal on the line 512 to turn the motor off by the override 510 in a manner discussed above. At the same time, the line 147 (OVERRIDE) is at logic 1 due to its connection to the switch 536, thereby asserting the override network 334 (FIG. 8).
Having completely discussed the brake control subsystem 105, the motor control subsystem 106, and the logic 109, attention is directed to FIG. 10, which is a detailed schematic diagram of the velocity comparator 108.
VELOCITY COMPARATOR
Shown in FIG. 10 is a detailed schematic diagram of the velocity comparator 108 utilized in the drawworks control system 21. As seen from the block diagram FIG. 3, the velocity comparator 108 is input from the computer channel G on the line 165 with a 4-20mA signal representative of the COMMAND VELOCITY, the velocity at which it is desired to move the traveling block 68 from a first to a second elevation within the rig or derrick 20 (FIG. 2). With reference to FIG. 10, the current input signal is taken on a line 570 and converted to a voltage by the action of the resistor 571 connected between the line 570 and a negative potential. The resulting voltage signal is filtered by a filter 572 comprising a resistor 573 and a capacitor 574 and is applied to the non-inverting input of an amplifier 575. The output of the amplifier 575 is fed back to the inverting input through a resistor 576, and is also connected to the output line 132 which carries the 0-10 volt COMMAND VELOCITY signal to the brake control subsystem 105 and the motor control subsystem 106, on the lines 132B and 132M respectively.
The velocity comparator 108 is also input, on the line 166 with a bi-polar voltage signal derived from the drum tachometer 94. The magnitude of the signal from the drum tachometer 94 is representative of the ACTUAL VELOCITY at which the traveling block 68 (FIG. 2) is moving. The polarity of the voltage signal on the line 166 is representative of the direction of travel of the traveling block 68. Consequently, a positive polarity indicates an upward direction of travel with respect to the vertical axis of the derrick 20. An upward direction of travel, of course, implies that the motor mode is being asserted. A negative polarity of the signal on the line 166 indicates downward motion of the traveling block 68 with respect to the derrick axis, and implies the brake mode is being asserted by the computer.
The ACTUAL VELOCITY signal is filtered to remove commutating spikes by a single-pole, low-pass filter network 580 which is comprised of a resistor 581 and a capacitor 582. Diodes 583 and 584, respectively connected to positive and negative potentials, limit the signal to an amplifier 586. The filtered ACTUAL VELOCITY signal is presented through a resistor 585 to the inverting input of the adjustable gain amplifier 586. The non-inverting input of the amplifier 586 is connected to ground potential through a resistor 587. Connected in a feedback loop from the output of the amplifier 586 to the input thereof is an adjustable resistor 588. The gain of the amplifier 586 depends upon the setting of the resistor 588. The output may be adjusted to represent some nominal velocity, for example, 1 volt per foot per second.
The output of the amplifier 586 is applied to the inverting input of a unity gain inverter amplifier 590 through a resistor 591. The non-inverting input of the amplifier 590 is connected to ground potential through a resistor 592. The output of the amplifier 590 is fed back to the inverting input thereof through a resistor 593. The output is also connected by a line 594 to the output line 134, which is the ACTUAL VELOCITY signal input to the brake control subsystem 105 and the motor control subsystem 106 on the lines 134B and 134M, respectively. With the circuit configuration described, the magnitude of the voltage signal on the line 134 represents the actual velocity of the block, with a positive polarity indicating upward movement and a negative polarity indicating downward motion.
The output of the amplifier 586 is taken by a line 597 to a wrong direction indicating network 598. The network 598 includes comparators 599 and 600, and transistors 601 and 602 connected in a logic OR configuration. The inverting input of the comparator 599 and the non-inverting input of the comparator 600 are connected with the output of the amplifier 586 through resistors 603 and 604, respectively. The switching points of the comparators are fixed at a nominal, predetermined threshold level, for example, a level corresponding to the velocity of about 0.5 foot/second. The non-inverting input of the comparator 599 is connected to a positive voltage from a positive potential source through the resistors 605 and 606. The inverting input of the comparator 600 is connected to ground potential through the resistors 607 and 608.
The output from the comparator 599 is connected through a diode 609 and a resistor 610 to the base of the NPN transistor 602. The junction of the transistor 602 and the resistor 610 is connected to ground potential through a resistor 611. The output of the comparator 600 is connected through a diode 612 and a resistor 613 to the base of the NPN transistor 601. The junction of the base of the transistor 601 and the resistor 613 is tied to ground potential through a resistor 614.
One or the other of the comparators 599 or 600 is disenabled, dependent upon whether a signal is present on the line 615 or 616. The line 615 is connected to a line 167 tied to the MOTOR MODE SELECT line 144 from the computer. The line 616 is connected to a line 168 tied to the BRAKE MODE SELECT line 145 from the computer. A diode 617 is connected in the line 615 to the junction between the diode 609 and the resistor 610. A diode 618 is connected in the line 616 to the junction between the diode 612 and the resistor 613. The diodes 617 and 618 are normally forward biased, due to the connection of the anode of each diode 617 and 618 to a positive potential through the resistors 619 and 620, respectively.
The output of the wrong direction network 598 is taken from the collector of the transistor 602 by a line 621. The line 621 is connected to a line 169 connected to the computer input channel E. The network 598 operates to give a WRONG DIRECTION OF MOTION signal on the line 169 if the motion of the block exceeds the nominal setting 0.5 feet/second in the wrong direction. If this occurs, either transistor 602 or 601 ceases to conduct. A WRONG DIRECTION OF MOTION signal is an interrupt condition, which disables all systems and halts the program. As with all other interrupt conditions, the entire system reverts to manual control and all automatic operation is halted.
The enabling signals on the lines 167 and 168 from the computer to the motor and brake control are applied, through the lines 615 and 616, respectively, to the comparator outputs through the diodes 617 and 618. These signals enable the appropriate comparator so that only the "correct" wrong direction is sensed. If, for example, the motor control subsystem is controlling a hoisting motion, the MOTOR MODE SELECT line 144 and the line 167 are low and the BRAKE MODE SELECT line 145 and the line 168 and the line 168 are high so that the output of the comparator 599 is enabled and the output of the comparator 600 is not enabled. During hoisting the ACTUAL VELOCITY signal polarity at the non-inverting input of the comparator 600 is negative so that the transistor 601 would tend to be turned off, but the comparator output 600 is disconnected since the diode 612 is back-biased. In this condition, the transistor 601 is maintained in conduction by the signal applied through the diode 618. However, if the ACTUAL VELOCITY signal at the inverting input of the comparator 599 should become positive with a magnitude greater than appropriately 0.5 volt, indicating a "wrong" direction of travel, neither the diode 609 nor the diode 617 conducts, so that the transistor 602 becomes non-conductive, signaling an interrupt condition on the line 169 to the computer. The "wrong" direction during a braking motion operates in a similar manner.
The output of the amplifier 590 is also connected to a zero velocity detector network 624. The network 624 includes comparators 625 and 626 connected as zero velocity detectors. Since the output of the drum tachometer 94 is a bipolar signal, two comparators 625 and 626 are required, one effective for each direction. The inverting input of the comparator 625 is connected to the output of the amplifier 590 through a resistor 627. The non-inverting input is connected to a switching point voltage set by the "down" potentiometer 628, connected to ground on one side and to a negative potential through a resitor 629 on the other. The output of the comparator 625 is fed back to the non-inverting terminal thereof through a loop including a resistors 630 and 631, and a capacitor 632. This positive feedback loop provides hysteresis so that the comparator 625 will provide positive signal action with signals close to the switching point. The non-inverting input of the comparator 626 is also connected to the output of the amplifier 590 through a resistor 634. The inverting input is connected through a resistor 635 to a switching point voltage set by the "up"  potentiometer 636 which is connected to ground on one side and to a positive potential through a resistor 637. The output of the comparator 626 is fed back to the noninverting terminal thereof through a loop including a resistor 638 and a capacitor 639. This positive feedback loop insures that the comparator 626 will provide a positive switching action at input signals near threshold.
The outputs of the comparators 625 and 626 are connected, through diodes 640 and 641, respectively, and a through a network including a resistor 642 and a capacitor 644 to the base of an NPN-type transistor 645. The emitter of the transistor 645 is connected to ground. The cathodes of the diodes 640 and 641 are connected to ground through a resistor 646. The collector of the transistor 645 is tied to a positive potential through a resistor 647. The collector of the transistor 645 is connected to the base of an NPN transistor 648. The emitter of the transistor 648 is tied to ground, with the collector thereof being tied to an output line 649. A diode 650 is connected between the line 649 and a positive potential. The output line 649 is connected to a line 170, ZERO VELOCITY, (FIG. 3) to the computer channel D. The switching points of the comparators 625 and 626 are set by the potentiometers 628 and 636, respectively, such that a predetermined small velocity in either the downward or upward direction is recognized as a zero velocity condition and a signal to that effect is applied on the line 170 to the computer. Zero velocity on the line 170, indicated by the transistor 648 being switched on, is only one of the two necessary conditions for the computer to recognize that the block is at its programmed destination.
As will be set forth in detail herein, the block position and speed transducer 83 outputs a 0-10mA velocity signal on a line 171 to the velocity comparator 108. This unipolar current signal on the line 171 is applied to a maximum velocity network 653. The current signal is converted to a voltage signal by the action of a resistor 654 tied to ground potential. The voltage signal is applied to the non-inverting input of a voltage follower amplifier 655 through a resistor 656, with a capacitor 657 tied to ground potential. An adjustable maximum velocity signal derived from a potentiometer 659 connected to a negative potential through a resistor 660 is applied to the non-inverting input of a voltage follower 662. The opposed polarity outputs of the voltage followers 655 and 662 are applied through resistors 664 and 665, respectively, and are summed at the inverting input of an amplifier 667 effectively operating as a comparator. The non-inverting input is tied to ground through a resistor 668. The output of the comparator is fed back to the non-inverting input thereof through parallel feedback paths including a resistor 669 and a capacitor 670. The output of the comparator 667 is tied through a diode 671 and resistor 672 to the base of an NPN transistor 674. The emitter of the transistor 674 is tied to ground, while the output thereof is tied to a line 675. The line 675 is connected to an output line 172. This MAXIMUM VELOCITY signal on the line 172 is connected to the computer input channel F.
The maximum velocity threshold set by the potentiometer 659 is normally greater than the actual velocity signal to the follower 655, so that the output of the comparator 667 is at positive saturation, holding the transistor 674 in conduction. However, if the BLOCK VELOCITY from the B.P.S.T. 83 exceeds the threshold, the transistor 674 is cut off. The indication that the maximum velocity is exceeded is thus output to the computer on the lines 675 and 172. Note that on both the lines 621 and 675, a normal condition is indicated by current flow. When an abnormal condition is sensed, that current signal drops to zero. Diodes 677 and 678 are, respectively, tied between the lines 621 and 675 and a positive potential.
BLOCK POSITION AND SPEED TRANSDUCER
Referring to FIG. 11, a detailed schematic diagram of the block position and speed transducer (B.P.S.T.) 83 is shown. As mentioned, the B.P.S.T. 83 outputs a position feedback signal to the computer input channel J on the line 116. Further, a position signal is input to the brake control subsystem 105 and the motor control subsystem 106 on the lines 116B and 116M, respectively. Also, as discussed in connection with FIG. 10, the B.P.S.T. 83 puts a 0-10mA BLOCK VELOCITY signal on the line 171 to the velocity comparator 108.
The B.P.S.T. 83 is associated with the block 68 and is mounted on the carriage of the block retractor 78 for travel therewith along the guide track 80. The traveling block 68, of course, moves with the carriage 78. The mounting details are illustrated diagrammatically with any suitable means of mounting being within the contemplation of this invention. A friction wheel 690, manufactured of any suitable material, as urethane, is contacted against the retractor guide track 80. A spring 691 biases the wheel 690 into contact with the track 80. Displacement of the carriage 78 causes rotation of the wheel 690 and a shaft 692 suitably coupled thereto. At the opposite end of the shaft 692 is coupled a toothed wheel 693 which is driven by movement of the wheel 690.
The B.P.S.T. 83 includes a zero velocity magnetic pickup 695, such as that manufactured by Airpax and sold under Model No. 4-0002. The pickup 695 outputs a square wave pulse each time a tooth of the wheel 693 passes in proximity to the pickup 695. This signal is hereafter referred to as the "A" signal. The pickup also outputs a signal, either a logic 1 or a logic 0, indicative of the direction in which the teeth of the wheel 693 are passing. This signal is hereafter referred to as the "B" signal. It is quickly appreciated that a predetermined given number of output pulses from the pickup is calibrated and used to represent displacement of the block a predetermined rectilinear distance along the track 80. Similarly, the frequency of the pulses is proportional to the speed at which the carriage 78 moves. The "A" and "B" signals of the pickup 695 are connected to a signal level translator 697. A suitable translator 697 is that manufactured by Motorola and sold under Model No. MC 666. The function of the translator 697 is to translate the magnitudes of the "A" and "B" signals to a level compatible with the electronic components which follow. The "A" signal is also transmitted by a line 698 to the input of a frequency-to-voltage converter 699. Any suitable converter 699 may be utilized, such as that manufactured by Teledyne Filbrick and sold under Model No. 4702.
The frequency-to-voltage converter 699 serves to provide an average output voltage proportional to the frequency of the square wave input signal. Potentiometers may, of course, be provided to adjust the zero and full scale output. For example, a nominal sensitivity of 1.0 volt/foot/second with a full scale of 10 volts, or any other predetermined setting may be utilized. The output from the converter 699 is applied to a unity gain inverting amplifier 700 (shown schematically). The output of the inverting amplifier 700 is applied to a voltage-to-current converter 701. The converter 701 is similar in circuit details to the voltage-to-current converter 246B shown in FIG. 8B. The converter functions to provide a 0-10 mA output proportional to the 0 to -10 volt input signal. A suitable trimming resistor may be provided to adjust the output current to a predetermined value, for example 10 mA when the input voltage is 10 volts. Resistors or potentiometers may also be provided to make the current output independent of load resistance. A 0-10 mA output current signal on the line 171 is functionally related to the frequency of the square wave input on the line 698 and, accordingly, to the speed of the carriage 78 and the traveling block 68 associated therewith. As before, the current signal is preferred due to the high noise immunity offered thereby. Further, the constant current source characteristic makes the cable resistance and/or cable length uncritical. Thus, long cable runs through electrically noisy environments using economical unshielded cable are possible. The output from the voltage-to-current converter 701 is connected by the line 171, discussed above, to the velocity comparator 108. Although velocity feedback signals are received at the velocity comparator 108 from the drum tachometer 94, it is noted that redundancy is provided by the velocity signal output from the B.P.S.T. 83. The velocity signal from the B.P.S.T. 83 provides excess velocity information should the drum tachometer 94 develop a malfunction.
As noted, the "A" and "B", output signals from the pickup 695 are output from the level translator 697. A line 703 carrying the "A" signal (also input to the converter 699), and a line 704, carrying the "B" signal representative of the direction of motion of the wheel 693 are both input to a cascaded array of counters, 706A, 706B, and 706C, such as those manufactured by Motorola and sold under model number MC1451CP. The counters register the number of pulses received on the line 703 during the motion of the block. Thus, the total count is the measure of the vertical distance traversed. The directional signal input on the line 704 determines whether the count is to be added or subtracted (i.e., countup or countdown) from the initial value. In the Figure, the array of counters 706 provides a total count of 4096.
The parallel outputs Q(N) of the counters 706 are applied to a digital-to-analog converter 710, such as that manufactured by Hybrid Systems Corporation and sold under the model number DAC 380-12. The output of the converter 710 is a current proportional to the magnitude of the count received. Potentiometers 711 and 712 are, respectively, provided to adjust the zero and full scale current levels. These potentiometers may be set, for example, so that a 4 mA signal corresponds to a zero count and a 20 mA current corresponds to a register count of 4095. The output current, is, therefore, proportional to the elevation of the traveling block. The output current signal, sharing the same attributes as discussed above, is applied to the output line 116 to the computer (on input channel J) and to the brake and motor control subsystems 105 and 106, respectively on the lines 116B and 116M.
Since the B.P.S.T. is an incremental position sensing system, a reset is employed to establish a definite and repeatable correlation between the count registered and the physical position of the block 68. As noted earlier in connection with FIG. 2, two proximity switch sensors 84 and 85 are located on the carriage 78 which are actuated by metal targets 86 and 87. This arrangement provides unambiguous reset points near the upper and lower ends of the retractor guide 80. Each reset switch output is applied to an anti-bounce network 715 and 716, each utilizing two cross-coupled NOR gates 718 and 719. The output of each of the networks 715 and 716 is applied to a bistable network 720. The output of the network 720 functions to maintain one or the other of reset buses 721 or 722 high (i.e., at logic 1), depending upon which reset switch 715 or 716 is actuated.
The upper reset bus 721 and the lower reset bus 722 each have a diode-resistor network wired thereto which forms a pattern to the preset inputs J(N) of the counters 706 representing a predetermined count for the physical elevation of each target. The output of the anti-bounce networks fed through a NAND gate 723 to the preset inputs of the counters 706. Thus, the counters 706 are preset to a predetermined count each time a sensor passes its respective target.
NAND gates 724A, 724B and 724C are connected as a Schmitt trigger network. The output of the trigger network provides a reset pulse to the reset inputs of each counter 706 through a capacitor 725 and a diode 726. The output of the trigger network resets the counters 706 at a fixed time delay after the system power is applied. This time delay is set by the resistor 728 and the capacitor 725. Any predetermined time delay may be used. As a result, the counters 706 are automatically set to zero count each time the sytem is powered-up.
However, there remains the possibility that after the counters 706 are reset to zero following power-up, one spurious count combined with a down signal from the magnetic pickup could cause the counters 706 to register a full count of 4095. To prevent this situation, the reset pulse described above is also applied to a NAND gate 727 functioning as an inverter. Its output functions to switch the lower reset bus 722 to logic 1 through the diode 728. During a predetermined additional time interval, set by the capacitor 730 and resistor 731, the preset pin of the middle counter 706B is enabled through an inverter 732 and a diode 733. The result is that a preset count is entered following each power-up. In this example, a count of 48 is entered, although any value can be preset by appropriate rearrangement of the logic.
ELEVATOR LOAD CONTROL
As alluded to above, during both the make-up and breakout cycles it is necessary and desirable to monitor the load being carried by the elevator 75 (FIG. 2). Accordingly, as discussed in connection with the brake control subsystem 105 and the motor control subsystem 106, feedback signals from the elevator load control subsystem 107 are utilized in the determination by the motor or brake controls of the speed at which the drill string is lifted (by the motor) during break-out cycle or the speed at which the string is permitted to fall (by the brake) during make-up cycle. The necessity and advantage of considering the elevator loading is apparent. If the drill string is encumbered as it is lifted out of or lowered into the bore, the loading on the elevator departs from a predetermined preset minimum (during lowering) or a predetermined preset maximum (during hoisting). In either case damage to bore may occur if the velocity of the block is not limited.
As seen in FIG. 3, the basic drawworks control block diagram, it is noted that the elevator load control subsystem receives output signals from computer channels N, O, and P on lines 175, 176 and 177, respectively. Feedback signals to the computer channels K, L, and M are carried from the elevator load control subsystem are carried on lines 178, 179 and 180, respectively. It is also noted that a feedback signal representative of the actual elevator load is output to both the brake control subsystem 105 and the motor control subsystem 106 through the lines 136B and 136M, respectively, while appropriately scaled initial load feedback signals are respectively output to the brake and motor control subsystems through the lines 138B and 138M, respectively. The derivation of these signals is discussed herein.
The elevator load control subsystem 107 derives its operating input from the deadline force sensor (D.L.F.S.) 95 on the line 110 (FIG. 3). The signal from the D.L.F.S. 95 may be conditioned, if desired. As is the case with all signals derived from relatively distant transducers, the signal from the D.L.F.S. is a 4-20 mA current signal, chosen for the reasons outlined above.
Referring now to FIG. 12, which is a detailed schematic diagram of the elevator load control subsystem 107, the 4-20 mA signal is taken from the input line 110 and converted to a voltage signal by the action of resistor 735 connected to a negative potential. This is a configuration similar to that used throughout the invention to convert a current to a voltage signal. The voltage signal is filtered by a filtering network 737 including a resistor 738 and a capacitor 739. The filtered voltage signal is taken through a buffer amplifier 740 and carried by a line 741 to the non-inverting input of a comparator 742 through a resistor 743. The non-inverting input of the comparator 742 is tied to ground potential through a resistor 744. A potentiometer 745 connected to a positive potential adjusts the zero point of the comparator 742.
The output of the amplifier 740 representative of the loading on the elevator 75 (FIG. 2) at any given instant is connected by a line 747 to a sample-and-hold network 748. The network 748 includes a buffer amplifier 749 connected at its non-inverting input to the line 747. The output of the amplifier 749 is taken through a diode 750 and a resistor 751 to a bilateral switch 752. The junction of the diode 750 and the resistor 751 is tied to ground potential through a resistor 753 while a Zener diode 754 is interposed between the junction of the resistor 751 and the switch 752. The output of the switch 752 is connected to the gate of a field effect transistor 755 with the gate also being connected to ground potential through a capacitor 756. The drain of the transistor 755 is connected to a positive potential. The source is connected to a negative potential through a resistor 757. The output of the sample-and-hold network 748 is taken by a line 759 at the source of the transistor 755 and applied through a resistor 760 to the inverting input of the differential amplifier 742. The output of the differential amplifier 742 is fed back to its inverting input through a resistor 761. The switch 752 is connected through a NAND 763, both inputs thereof being tied through a diode 764 to the line SAMPLE ZERO LOAD line 175 leading from computer channel N. The NAND gate 763 inputs are connected to a positive potential through a resistor 765.
When the switch 752 is closed momentarily by an enabling signal on the line 175 from channel N of the computer, the capacitor 756 is charged to a level corresponding to the elevator load signal at the output of the amplifier 740. The signal level at the output of the transistor 755 on the line 759 remains at the level existing when the switch 752 is gated off until the next gate signal is applied. The computer is programmed such that channel N the "SAMPLE ZERO LOAD" signal is activated when the elevator and block are not in motion and at an appropriate point in the cycle when the elevator has not acquired any load. The signal presented at the inverting input of the comparator 742 may then be thought of as consisting of the tare weight of the elevator and block plus any offsets and accumulated long-term drifts existing in the load measuring networks. At the differential amplifier 742, the zero signal is subtracted from a signal representative of the instantaneous elevator load input on the line 741 so that the instantaneous signal representative of the actual loading on the elevator at the output line 766 from the differential amplifier 742 is presented to the output line 136 ACTUAL LOAD.
The output from the field effect transistor 755 on the line 759 is fed back through a line 767 to the inverting input of the amplifier 749.
A substantially identical sample-and-hold network 770 is connected to the output of the comparator 742 through the line 771. The non-inverting input of a buffer amplifier 772 is connected to the signal on the line 771. The output of the amplifier 772 is connected through a diode 773 and a resistor 774 to a bilateral switch 775. The junction between the diode 773 and the resistor 774 is connected to ground potential through a resistor 776. The junction between the resistor 774 and the switch 775 is connected to ground potential through a zener diode 777. The output of the switch 775 is connected to a capacitor 779 and to the gate of a field effect transistor 780. The drain of the transistor 780 is connected to a positive potential while the source thereof is connected to a negative potential through a resistor 781. The output of the network 770 is taken from the source of the transistor 780. This output is also fed back to the inverting input of the amplifier 772 by a line 783. The output of the transistor 780 is also connected through series resistors 784 and 785 to ground potential. A line 786 is connected at the junction of the transistors 784 and 785 for a purpose to be discussed herein. The output of the sample-and-hold network 770 is connected by a line 787 to a switch 788.
The switch 775 is connected to a NAND gate 790, the tied inputs of which are connected through a diode 791 to the line SAMPLE LOAD On the line 176 leading from the output channel 0 of the computer. The inputs to the NAND gate 790 are connected to a positive potential through a resistor 792. With the receipt of a signal from the computer channel 0 on the line 176 the positive signal presnet on the input of the NAND gate 790 connected as an inverter switches to a logic 0. The output switches to a logic 1 which gates on the switch 775. With the switch 775 gated on, the capacitor 779 charges to a signal level such that the output of the transistor 780 on a line 787 is equal to the signal level existing at the amplifier 742 output of the line 771. This signal level at the line 787 remains at the level existing when the switch 775 is gated off until the next gating signal is applied. The signal from the computer on the line 176 is activated at a point in the cycle when the elevator has acquired a load but is not yet in motion. Thus, the output of the transistor 780 on the line 787 represents the "dead weight" of the drill string load. This is the INITIAL LOAD and is the base value of the drill string load used for comparison with the ACTUAL LOAD by the brake control subsystem 105 and the motor control subsystem 106, as discussed in connection with the description of those subsystems.
The switch 788 is connected at its input by a line 796 to the non-inverting input of a buffer amplifier 797. The switch 788 is controlled by a transistor 798 of the NPN type, the base of which is connected through a resistor 799 and the diode 800 to the line 177. The LOAD CONTROL ON signal from the computer output channel P is applied on the line 177. The signal end of the resistor 799 is connected to a positive potential through a resistor 802. The collector of the transistor 798 is connected to a positive potential through a resistor 803. The collector of the transistor 798 is also connected to the control lead of the bilateral switch 788. The signal end of the resistor 799 is also connected by a line 804 to the control lead of a second switch 805. The switch 805 connects the output of the amplifier 742 through a line 806 to the non-inverting input of the buffer amplifier 797. Except during the CREEP mode, the LOAD CONTROL ON signal is asserted whenever the drill string is being raised or lowered. When this signal is asserted, the switch 788 is gated on and this switches the signal representing the INITIAL LOAD on the line 787 to the input of the amplifier 797. At the same time, the bilateral switch 805 is turned off. The INITIAL LOAD signal at the output of the amplifier 797 is applied through parallel paths including resistors 810 and 811 to level control circuits 812 and 813, respectively.
Each of the level selectors comprises a bank of resistors such that, depending upon the setting of the selector switch, a predetermined fraction of the INITIAL LOAD is applied through a resistor 815 to the inverting input of a buffer amplifier 816. The non-inverting input of the buffer amplifier is connected through a resistor 817 to ground potential. The output of the amplifier 816 is fed back through its inverting input through a resistor 818. The setting selected by a skilled driller and dialed into the level controller 812 is an adjustable fraction K1 between 0 and 0.9 of the INITIAL LOAD. This level is inverted by the amplifier 816 and applied on the output line 819 to a connection with the line 138B input to the brake control subsystem 105.
The physical effect of choosing the factor K1 may be seen by a consideration of the lowering operation. During lowering, the actual load on the elevator will be less than or equal to the initial INITIAL LOAD value due to frictional forces on the moving pipe. Therefore, it is reasonable to anticipate that some deviation of the actual load on the elevator below that of the INITIAL LOAD may be encountered during a normal lowering operation. The magnitude of the allowable deviation is defined by the magnitude of the constant K1 selectable by the level controller 812.
A portion of the signal at the inverting input of the amplifier 816, the magnitude of that portion being defined by the ratio of the resistors 821 to 822, is applied by a line 823 to the inverting input of a comparator 824. The non-inverting input of the comparator 824 is connected through a resistor 825 to the actual load value carried thereto by a line 826. The output of the comparator 824 is connected through a diode 827 and a resistor 828 connected to the base of an NPN transistor 829. A suitable base resistor 830 is provided. The output of the transistor 829, which is normally conducting, taken at the collector thereof, is connected by a line 831 to the output line 178 leading from the elevator load control subsystem 107 to the computer input channel K. This is the LOAD UNDER LIMIT interrupt signal. The junction of the diode 827 and the transistor 828 is connected through a diode 833 to the output taken at the emitter of a transistor 834. The base of the transistor 834 is connected to the LOAD CONTROL ON line with the collector thereof being tied to a positive potential. Thus, during those periods of time when the LOAD CONTROL ON is asserted by the computer, the transistor 834 is not conducting and the output of the comparator 824 is enabled. The resistors 821 and 822 establish an under-limit switching threshold for the comparator 824 for a given K1 selected. When the value of the actual load falls below the preset fraction of the scaled INITIAL LOAD at the inverting input of the comparator 824, the comparator switches so that the transistor 829 switches off. This constitues an alarm signal indicating that the elevator load is under predetermined limit and actuates an interrupt system, halting the program and applying full braking effort as discussed above. The interrupt causes the entire system to revert from an automatic to manual mode.
The level selector 813 operates in a similar manner. The signal at the output of the level controller 813 is applied through a resistor 835 to the inverting input of a comparator 836. The actual load signal carried by the line 826 through a resistor 837 is summed at the inverting input of the amplifier to produce a polarity inversion. The non-inverting input is connected to ground potential through a resistor 838 so that the comparator switching threshold is zero potential. The output of the comparator 836 is connected through a diode 839 and a resistor 840 to the base of an NPN transistor 841 having a base resistor 842. The collector output of the transistor 841 is connected to line 844 and the line 179 to the computer input channel L. This is the LOAD OVER LIMIT signal. A diode 845 is connected between the junction of the diode 839 and the resistor 840. This maintains the transistor 841 in conduction when the transistor 834 is conduction (i.e., when the LOAD CONTROL ON signal is not asserted). Thus, the function of the LOAD OVER LIMIT interrupt is inhibited.
During a hoisting operation, the actual load may be increased over the INITIAL LOAD value through the effect of friction between the pipe and the bore. Therefore, during a hoisting operation, the INITIAL LOAD is scaled by an appropriate factor K2 selected from the level controller 813. The setting of the selector switch establishes the gain of the amplifier 849. This appropriately scaled load is presented by the line 834 to the output line 138M carried to the motor control subsystem 105. As long as the ACTUAL LOAD signal stays within the range of values defined by the constant K2, as described above, the motor control subsystem 106 is permitted to control the hoisting velocity without being affected by the load factor. However, as in the case of the lowering motion, if the actual loading on the elevator exceeds some preset fraction (set by the ratio of the resistors 835 to 837), an interrupt signal is output on the line 179 indicating that the elevator LOAD OVER LIMIT has been exceeded, interrupting the program and causing the entire system to revert from automatic to manual control. Note that when the LOAD CONTROL ON signal is not asserted, the line 177 is at logic 1 and the transistor 798 conducts and the switch 788 is gated off. At the same time, the switch 805 is gated on. The ACTUAL LOAD value is continuously applied to the load level selector rather than the INITIAL LOAD value. This effectively inhibits the function of the load control subsystem.
The actual load value at the output of the amplifier 742 is also applied by the line 771 to a load acquired network 850. The signal is applied to a high-pass filter network comprising a capacitor 852 and a resistor 853 connected to ground potential. The filter is tied to the noninverting input of a buffer amplifier 854, the output of which is connected by a line 855 to the inverting input of a comparator 856 through a resistor 857. The non-inverting input of the comparator 856 is conducted by a line 858 through a resistor 859 from the output of a buffer amplifier 860. The non-inverting input of the amplifier 860 is taken from the line 786. The output of the amplifier 860 is applied through a diode 861 and is fed back to the inverting input thereof through a resistor 862. The output of the amplifier 860 taken through the diode 861 is applied through a resistor 863 to an amplifier 864. The non-inverting input of the amplifier 864 is connected to ground potential through a resistor 865 while the output thereof is fed back to the inverting input through a resistor 866. The output of the amplifier 864 is connected to the inverting input of a comparator 868 through a resistor 869. The non-inverting input of the comparator 868 is taken through a resistor 870 from the line 855.
The output of the comparator 856 is connected through a diode 875 and a resistor 876 to the set pin of cross-coupled NAND gates 877A and 877B connected as a flip-flop circuit. The output of the comparator 868 is taken through a diode 878 and a resistor 879 to the reset input of the flip-flop 877. The output of the flip-flop is taken through a resistor 880 connected to the base of an NPN transistor 881. The collector output of the transistor 881 connected by a line 882 to the output line 180 from the elevator load control subsystem 107 to the computer on the input channel N.
The output of the amplifier 854 and the line 855 is the LOAD ACQUIRED signal. It is fed to the two comparators 856 and 868. The other signal being applied to the comparators is, as shown, a reference signal equal to approximately 1/3 the value of the INITIAL LOAD signal as established by the resistors 784 and 785. The reference signal to the comparator 868 is inverted by the amplifier 864 to maintain the proper signal sense. The reference signals are necessary so that the comparators can accommodate a wide range of hook loads. It adjusts the switching point of the comparators 856 and 868 to a level consistent with the drill string load during the previous cycle. The change in weight over a sequence cycle to cycle is equivalent to one stand of pipe and so for a typical drill string make-up the percent change in weight is negligible. The output of the comparators 856 and 868 drive the flip-flop 877. Prior to load acquisition, the normal steady state outputs of the comparators 856 and 868 are at a logic 1 due to the reference signals applied. The load acquired flip-flop is at a logic 0. The capacitively coupled load acquired signal momentarily switches the comparator 856, so its output switches to logic 0. This sets the flip-flop 877 so its output switches and remains at logic 1. Later, a negative going load released signal momentarily switches the comparator 868 so that its output pulse resets the flip-flop and the flip-flop output switches to logic 0. The transistor 881 conducts during the interval that the elevator 75 is supporting the drill string load. Thus, during the time that load is acquired by the elevator, a current signal on the line 180 is applied to the computer channel N. When the load has been released, the signal current drops to zero.
ASSOCIATED SAFETY SYSTEMS
Referring to FIG. 13, a schematic diagram of an automatic sequence disenable and interrupt logic circuit 900 is shown. The purpose of this circuitry is to permit an experienced driller on the derrick to manually correct some physical problem on the rig which is causing the automated sequence to "hang-up" (a temporary halt to the computer program sequencing) and to perform that action without risk of physical injury. Since it is possible that correction of the structural disorder will enable the automated sequence to continue, and perhaps imperil the operator, it is imperative from a personnel safety stand point that the automatic disenable be provided.
The driller's control console is provided with an AUTO MODE switch 901 which in the NORMAL position applies a positive voltage signal to a two-pole low-pass filter and diode limiter 902 to apply a logic 1 signal to the A input of NOR gate 903C. When a "hang-up" exists in the drawworks program, indicating that the elements controlled by the drawworks elements (FIG. 2) are in a motionless condition, the line 904 from the computer goes to logic 0. Similarly, the line 905 from the computer goes to a logic 0 condition each time a "hang-up" exists in the racker control program. Thus, all of the structural elements controlled by that program (numeral 34, FIG. 2) are also static or motionless. A "hang-up" therefore occurs only when an appropriate feedback signal is absent due to a malfunction or at a point where one program is awaiting a function which occurs in the other program to be completed.
The NOR gates 903A, 903B, 903C and 903D are connected as shown so that when the three signals (from the switch 901, and on the lines 904 and 905) are logic 0, a transistor 906 of the NPN type ceases conduction. This constitutes an output signal carried by the line 907 which causes the AUTO/MANUAL bus to be de-energized. This inhibits all control function and the entire system reverts to a manual mode, and all sequencing is halted. This condition remains until the AUTO MODE switch is returned to the NORMAL position. Thus, after actuating the AUTO/MODE switch to the DISABLE position, the operator can safely correct a malfunction without the danger of the system immediately continuing on in the automatic sequence. Then the repair has been effected, the switch 901 can be returned to the NORMAL position and the automatic cycle is resumed. Thus, a fault in the structural system (or any other operator correctable malfunction) can therefore be corrected without disrupting the computer program, and thereby avoid the complicated start-up and reloading procedures.
A power-fail sensing system may also be provided. The circuit includes the transistors 910, 911 respectively, of the NPN and PNP types, and the optical coupler 912. This circuitry monitors the power supplies utilized in the invention. The transistor 911 is normally biased off and is non-conducting while the optical coupler 912 is conducting and current in a line 914 is a normal condition. When any of the monitored power sources fail, i.e., +15 VDC, -15 VDC, -24 VDC (tong supply) and 26 V, 400 Hz. AC, the transistor 911 conducts which biases the optical coupler 912 to an off or non-conducting state. Therefore, an output current signal to the line 914 is interrupted. This constitutes an interrupt signal to the computer on the line 914. Of course, loss of +24 VDC control power to the coupler 912 accomplishes the same result.
The EXCLUSIVE OR gate 920 receives input signals on the lines 921 and 922 from the high drum clutch and the low drum clutch feedback switches. The drawworks control utilizes two clutches in the particular embodiment shown. One or the other of the clutches may be damaged by simultaneous engagement of both. The EXCLUSIVE OR gate accepts only one or the other of the clutch signals, but not both. This effectively prevents simultaneous engagement of the clutches. The output of the gate 920 drives a transistor 923 of the NPN type when, conducting supplies a CLUTCH ENEGAGED feedback signal to the computer on the line 924.
POWER TONGS STRUCTURE
Although the power tongs structural system 28 is not previously described in detail in connection with FIG. 2, power tongs for making and breaking joints between a pipe stand and a drill string are well-known in the art. For example, U.S. Pat. No. 3,881,375, issued to Robert R. Kelly and assigned to the Assignee of the present invention, discloses the basic structure of a power tongs assembly. In FIG. 14, shown is a highly stylized pictorial representation of a power tongs assembly 1000. FIG. 14 illustrates the main structural elements common to all power tongs assemblies and also diagrammatically illustrates additional structural elements provided in accordance with this invention.
The tongs assembly 1000 is located adjacent to the slips 55 (FIG. 2) provided on the floor 53 of the derrick 20. As is typical and well-known to the art, the tongs 1000 are mounted on a vertical column 1001, itself mounted on bearings 1002 to permit the tongs 1000 to swing into and out of alignment with the bore being generated. A collar 1003 is mounted, as by rollers 1004, for movement along the vertical column 1001. A tongs supporting yoke 1005 is mounted to the collar 1003 and projects horizontally therefrom. The yoke 1005 supports a cradle 1006 in which a backup tong 1007 and a power driven tong 1008 are disposed. The backup tong 1007 is adapted to hole one (usually the lower) section of the pipe sections defining the joint to be made-up or broken-out against rotation while the driven tong engages the other section to rotate the same in a predetermined direction. The direction of rotation depends upon whether the joint is being made-up or broken-out.
Also mounted on the column 1001 in any suitable relationship thereto (shown in FIG. 14 as being in cooperative association with the collar 1003) is a stabber 1009. As is well-known to those skilled in the art, the stabber 1009 may or may not be provided in a conventional tongs assembly, but if it is so provided, the stabber 1009 is operative to assist in locating or "stabbing" the next pipe stand to be added to the drill string during a make-up cycle. Since the structures discussed are conventional, it is understood that any suitable configuration of elements exhibiting these functions and operating to effect the make-up or break-out of a joint in the drill string may be controlled by a control system 29 embodying the teachings of this invention.
As is also conventional in the art, a tongs lifting arrangement 1010 is provided. The arrangement 1010 comprises means for lifting the tongs from a lower, or storage, position to an upper, or standby, position and, past the standby position to a still-further upward operating position. Any suitable means may be utilized, as illustrated by the piston-cylinder arrangement associated with a chain drive. Fluid, such as pressurized hydraulic oil, for controlling the lifting and lowering motion of the tongs is conducted from a fluid supply to the piston-cylinder arrangement 1010 on a fluid line 1011. The speed at which the tongs are raised from the storage to the standby positions and from the standby to the operating positions is regulated by the fluid in a line 1012 having a restrictor 1013 therein.
Included within the backup tong 1007 is means 1014, such as a piston-cylinder arrangement, for opening and closing the backup tong 1007. Fluid, such as pressurized hydraulic oils for operating the piston-cylinder arrangement 1014 is conducted thereto on a line 1015. Similarly, means 1017, such as a tongs motor, are provided in operative association with the driven tong 1008 for opening and closing the jaws of the power driven tong and for rotating the power driven tong 1008 in a predetermined direction to effect the make-up or break-out of the joint. Fluid for operating the tongs motor 1017 is carried on a line 1018 to a cylinder 1019 related thereto. Means 1020, such as a piston-cylinder arrangement, is associated with the stabber 1009 for controlling the extension thereof. Fluid, such as pressurized air, utilized to energize the piston-cylinder 1020 is conducted thereto on a line 1021. Each of these above means for lifting the tongs at a predetermined lift speed, for opening and closing the backup tong, for closing the tong motor jaws and rotating the same, and for extending the stabber, are conventional in the art and any arrangement to accomplish the recited functions may be made compatible with the control system 29 embodying the teachings of this invention.
The tongs 1000 also include a joint sensor arrangement 1025 embodying the teachings of this invention. Although the joint sensor 1025 is described in complete detail in connection with FIGS. 18A and 18B, it generally comprises a sensor arrangement having a pivotally mounted roller arm with a limit switch associated therewith such that deflection of the arm by a predetermined portion of a drill pipe (as, for example, the box end taper) actuates the limit switch. When the limit switch is actuated, it is then known that a predetermined location on the drill pipe has been reached by the roller. Further, due to the standardization of drill pipes for oil drilling work, it is also known that any another feature of the pipe, such as the joint itself, is then a predetermined known distance from the location on the pipe which energized the limit switch.
The joint sensor 1025 includes means 1026, such as a piston-cylinder arrangement, for extending the sensor to contact the pipe. Fluid (such as pressurized air) to actuate the extension means 1026 is carried by a line 1027.
In a conventional arrangement, a manually operated valve 1030 is disposed in association with the fluid line 1011 (LIFT) to regulate the flow of fluid therein. The valve 1030 is usually operable in two directions to energize the lift means 1010 for upward or downward movement of the tongs along the vertical column 1001. A manual valve 1031 is associated with the fluid line 1012 (LIFT SPEED) and is manually operable to adjust the speed at which the tongs are raised. Usually, the speed is variable from a first, normal, speed exhibited during movement of the tongs from the storage to the standby positions, to a second, slower, speed exhibited during movement of the tongs from the standby to the operating positions during which time the sensor is extended to sense the joint.
A manually operated valve 1032 is associated with the hydraulic line 1015 (BACKUP) to regulate the flow of hydraulic fluid therein to the backup 1007. Manual actuation of the valve 1032 controls the opening or closing of the backup tong 1007, as is appreciated by those skilled in the art. A valve 1033 is associated with the fluid line 1018 (TONG) connected to the tongs motor 1017 to control the opening and closing of the power driven tong 1008 and the rotation thereof. The valve 1033 is similar to the valve 1030 and is a two-direction manual valve which in one position operates the tongs motor 1017 to make up a drill string while in the other position operates the tongs motor 1017 to break out a joint in the drill string.
If a stabber 1020 is utilized, a manual valve may be provided therefor operative to control passage of fluid in the lines 1021 (STABBER) to extent or retract the stabber. Further, it would be appreciated by those skilled in the art if a joint sensor 1025 embodying the teachings of this invention is utilized in a manual tongs assembly, the extension of the joint sensor may be manually effected through the provision of an appropriate manual valve regulating the flow of fluid (such as pressurized air) on the lines 1027 (SENSOR) to control the extension and retraction thereof.
Since, in the conventional arrangement above-described (with the exception of the joint sensor 1025), the control of the tongs structure is effected by the manual manipulation of valves in the fluid lines, it would be advantageous to provide an automated electronic control system, such as the tongs control system 29 (FIGS. 1 and 16), to electronically operate the tongs structure. Such a control system is provided by this invention. However, since the outputs of the control system 29 are electrical control signals, and since the above-discussed conventional tongs assembly utilizes fluid energized operators, it is necessary to provide an electro-hydraulic interface (E.H.I.) module intermediate between the tongs control system 29 and the tongs structure 28 controlled thereby. This module is illustrated diagrammatically in FIG. 14 and discussed in complete detail in connection with FIG. 14A. Each interface module is generally indicated by reference numeral 1028 and is provided to disenable the manually operated valve with which it is associated and to substitute therefor an electrically responsive valve adaptable to be controlled by the electric output signals from the tongs control system 29.
In general, the interface module 1028 includes an electrically operated solenoid valve connected in parallel relationship with the manually operated valve and in the same cooperative relationship with the fluid line through which the structure of the tongs communicates with the source of fluid therefor. Further, each interface module includes means for selectively enabling the electrically operated valve and simultaneously disenabling the manual valve. The select means can conveniently be an electrically or manually operable switch arrangement, or any other suitable arrangement. Thus, dependant upon the operative mode (automatic or manual) selected, either the electrically operated valve or the manually operated valve will be determinative as to the passage of hydraulic fluid in the lines with which it is associated.
As seen in FIG. 14, four interface modules 1028A, 1028B, 1028C and 1028D are provided so as to make the above-described conventional system responsive to the electrical signal outputs from the tongs control system 29. (Of course, if a conventional system utilized other manually operated valves, an interface module could be provided to make the function provided by that manually-operated valve electrically controllable.) The interface module 1028A (LIFT) is associated with the fluid line 1011 and controls movement of the tongs 1000 in a vertically upward and vertically downward direction. Since the manually operated valve 1030 with which the interface 1028A is associated is a four-way valve, the electrically responsive valve connected in parallel relationship to the valve 1030 within the interface 1028A is similarly a four-way valve. Therefore, electrical lines 1035 (LIFT UP) and 1036 (LIFT DOWN) are input to the interface module 1028A from the tongs control system 29. The presence of a signal on the appropriate line 1035 (LIFT UP) or 1036 (LIFT DOWN) from the tongs control system 29 initiates, respectively, an upward lifting movement of the tongs 1000 and a downward movement thereof.
The interface module 1028B is associated with the manually operated valve 1031 and includes a valve connected in parallel relationship thereto which is responsive to an electrical signal on an electrical line 1037 (LIFT SPEED) to control the rate at which upward speed of the tongs 1000 is effected. The interface module 1028C includes a valve connected in parallel relationship with the manually operated valve 1032, the interface valve being responsive to a signal on an electrical line 1038 (BACKUP) from the tongs control system 29. Energization of the line 1038 with the manual valve 1032 disenabled actuates the electrically responsive valve within the interface module 1028C to effect the closing of the backup tong 1007. Interface module 1028D includes an electrically responsive valve connected in parallel relationship with the manually operated valve 1033 and is actuable to control to the tongs motor 1017 to make-up or break-out a joint. Since the manually operated valve 1033 is operable in two-directions, the electrically responsive valve within the interface module 1028D is responsive to signals from the tongs control system 29 on electrical lines 1039 (TONG MAKE) or 1040 (TONG BREAK) to respectively initiate motion of the tongs motor 1017 to drive the driven tong 1008 to make-up or break-out the joint. It is understood that if other manual control valves were provided in a particular manually operated tongs assembly, suitable interfaces embodying the teachings of this invention may be provided to automate the functions performed thereby and make control thereof possible by the use of the tongs control system 29 embodying the teachings of this invention.
A four-way single solenoid, spring offset electrically responsive valve 1041 responds to an electrical signal on a line 1042 (EXTEND STABBER) from the tongs control system 29 to control the passage of fluid in the line 1021 to actuate the piston-cylinder arrangement 1020 to extend or retract the stabber 1009. A four-way, single solenoid, spring offset electrically responsive valve 1043 (similar to the valve 1041) responds to an electrical signal from the tongs control system 29 on a line 1044 (EXTEND SENSOR) to actuate the piston-cylinder arrangement or other suitable extension means 1026 disposed within the joint sensor 1025. It is, of course, understood that if either of these last two functions were provided by a manually operated control valve in a particular manually operated tongs assembly, a suitable interface module would be provided to disenable the manually operated valve and selectively enable the electrically responsive valve to permit automated control of the tongs assembly by a control system embodying the teachings of this invention.
In order to provide automated control of the tong structure 28, suitable feedback signal generating means, commonly limit switches, are disposed at predetermined locations within the structure of the tongs. An upper limit switch 1045 is disposed so as to output a signal on a line 1046 (TONGS IN STANDBY OR ABOVE) to the tongs control system 29 representative of the fact that the tongs have been raised on a column 1001 to at least the standby position. A lower limit switch 1047 is mounted within the tongs structure 28 and outputs a feedback signal on the line 1048 (TONGS IN STORAGE) to the tongs control system 29 representative of the fact that the tongs are in a storage position along the vertical column 1001.
Suitable means, as a pressure sensing switch 1049 disposed on the backup tong 1007 outputs a feedback signal on a line 1050 (BACKUP CLOSED) to the tongs control system 29 representative of the fact that the backup tong is in the closed and locked condition. Similarly, a limit switch or other suitable detector 1051 outputs an electrical signal on a line 1052 (BACKUP OPEN) to the tongs control system 29 representative of the fact that the backup tong 1007 is open. Suitable means, such as a limit switch 1053, outputs a signal on a line 1054 (STABBER NOT EXTENDED) to the tongs control system 29 representative of the fact that the stabber 1009 is in the extended or not extended position. Feedback signal generating means, such as a switch or pressure transducer 1055, disposed on the tongs makeup cylinder 1019 associated with the tongs motor 1017, outputs a signal to the tongs control system 29 on a line 1056 (TORQUED UP) indicative of a fully torqued condition of the tongs motor 1017 and representative of the fact that during a make-up cycle ther joint has been adequately made-up.
The joint sensor 1025 embodying the teachings of this invention includes feedback signal generating means such as limit switch 1057 outputting a signal on a line 1058 (JOINT SENSOR RETRACTED) to the tongs control system 29 representative of the fact that the joint sensor is in the retracted position. When a joint is sensed, a feedback signal from the limit switch 1059 associated with the detector in the joint sensor 1025 outputs a signal on a line 1060 (JOINT SENSED) to the tongs control system 29 representative of the fact that the joint has been sensed.
A full discussion of the manner in which the above-listed feedback signals are utilized by the tongs control system 29 to energize appropriate ones of the output lines to the electrically responsive valves located within the interface modules 1028 is discussed fully in connection with the tongs control system 29, herein.
Referring now to FIG. 14A, a detailed schematic diagram of each of the interface modules 1028A through 1028D is shown. Each of the interface modules 1028 includes a electrically responsive solenoid valve adapted to control the flow of hydraulic fluid from a supply, or source, thereof to the respective user apparatus with which the interface module is associated. Whether the manually operated valve (and, therefore, the electrically responsive valve disposed within each interface) is a pilot valve (in the sense of initiating the operation of a larger valve) or is a control valve (in the sense of interdicting the flow of hydraulic fluid) is a design consideration dependent upon the particularities of a given tongs system. The electro-hydraulic interface module is an adjunct to the tongs control system 29 and is adapted to disenable the manually operated valve and replace it with an electrically responsive valve which performs the same function as performed by the manually operated value. Thus, if the manually operated valve were a pilot valve, the electrically responsive valve in the interface would assume a pilot valve function. Alternatively, if the manually operated valve were a control valve, the electrically operated valve in the module would assume a control valve function. The electrically operated valve is connected in a parallel flow path to the manually operated valve. Further, each interface module 1028A through 1028D includes means, such as a select valve switch, disposed in series with the electrically responsive valve and with the manually operated valve to simultaneously disenable one of the valves and enable the other of the valves. The select valve switches may be manually or electrically operated, and are illustrated as electrically operated in connection with FIG. 14A.
The select valves or switches are all energized by the same source, namely the AUTO/MANUAL BUS from the tongs control system 29. The manual valves are enabled whenever the AUTO/MANUAL BUS is de-energized and the electrically responsive valves are disenabled. The electrically responsive valves enabled when the AUTO/MANUAL BUS is energized to simultaneously energize all select valves.
As seen in the schematic diagram of the interface module 1028A, the four-way manually operated value 1030 with which the module is associated is also illustrated. An electrically responsive four-way solenoid valve 1065, connected in parallel relationship with the manually operated valve 1030, has solenoid coils 1066A and 1066B associated therewith. Connected in series with the electrically responsive valve 1065 is an AUTO-MANUAL SELECT valve switch 1067, while connected in series to the manually operated valve 1030 is an AUTO-MANUAL SELECT valve switch 1068. Actuation of all of the select valve switches simultaneously enables either the electrically responsive or manually operated valves and simultaneously disenables the other. The solenoid coil 1066A is connected to the electrical line 1035 (LIFT UP) from the tongs control system 29 while the solenoid coil 1066B is connected to the electrical line 1036 (LIFT DOWN) from the tongs control system 29. The presence of a signal on the line 1035 (LIFT UP) energizes the coil 1066A and lifts the tongs from the storage to the standby position. Analogously, the presence of a signal on the line 1036 (LIFT DOWN) energizes the coil 1066B and lowers the tongs from the standby to the storage position.
The interface module 1028B is associated with the manually operated valve 1031. An electrically responsive solenoid valve 1069 is connected in a parallel hydraulic path to the manually operated valve 1031. The valve 1069 has a solenoid coil 1070 associated therewith. AUTO/MANUAL SELECT valve switches 1071 and 1072 are, respectively, connected in series with the electrically responsive solenoid valve 1069 and the manually operated valve 1031 for purposes analogous to those discussed in connection with the select valve switches 1067 and 1068. The solenoid coil 1070 of the electrically responsive valve 1069 is connected to the electrical line 1037 (LIFT SPEED) output from the tongs control system 29. If the select valve switches 1071 and 1072 are disposed so as to simultaneously disenable the manually operated valve 1031 and enable the electrically responsive valve 1069, the presence of a signal on the line 1037 (LIFT SPEED) actuates the valve 1069 to regulate the speed at which the tongs are lifted from a first to a second elevation.
The interface module 1028C operates exactly as the structure described in connection with the module 1028B. An electrically responsive valve 1074 having a solenoid coil 1075 attached thereto is connected in a parallel hydraulic path to the manually operated valve 1032. AUTO/MANUAL SELECT valve switches 1076 and 1077 are respectively connected in series with the electrically responsive valve 1074 and the manually operated valve 1032. The solenoid 1075 is connected to the electrical line 1038 (BACKUP) from the tongs control system 29. If the select valve switches 1076 and 1077 are disposed so as to disenable the manually operated valve 1032 and to simultaneously enable the electrically responsive valve 1074, the presence of a signal on the line 1038 (BACKUP) from the tongs control system 29 actuates the valve 1074 to close the backup tong 1007.
The interface module 1028D is similar in configuration to that discussed in connection with the interface module 1028A. That is to say, a four-way electrically responsive solenoid valve 1078 having first and second solenoid coils 1079A and 1079B associated therewith is connected in a parallel hydraulic path to the four-way manually operated valve 1033. AUTO/MANUAL SELECT valve switches 1073A and 1073B are respectively connected in series to the electrically responsive valve 1078 and the manually operated valve 1033. The solenoid 1079A is connected to the line 1039 (TONG MAKE) from the tongs control system 29 while the solenoid 1079B is connected to the line 1040 (TONG BREAK) output therefrom. If the select valve switches 1073A and 1073B were disposed so as to simultaneously disenable the manually operated valve 1033 and enable the electrically responsive valve 1078, the presence of a signal on the line 1039 (TONG MAKE) actuates the electrically responsive valve 1078 to enable the tongs motor 1017 to make-up a joint of a drill string. The presence of a signal on the line 1040 (TONG BREAK) from the tongs control system 29 actuates the solenoid 1079B and energizes the tongs motor 1017 to breakout a drill string joint.
Since each of the four interface modules 1028 have substantially the same internal hydraulic circuitry and utilize substantially similar type valves, the same supply manifold may be utilized to reduce cost and provide a symmetrical electro-hydraulic interface assembly. The interface modules may be mounted on a common base and connected to common pressure and tank manifolds. A pressure-reducing valve and accumulator may, of course, be included to supply a constant pressure. Suitable hydraulic line tubing may be used to connect the valve manifolds and pressure-reducing valve to the common manifolds and to the input and output header plates of the electro-hydraulic interface.
The tongs control system 29 cannot equal the cycle times possible with the manual controls operated by experienced man. However, it does not make common mistakes such as forgetting to close the backup before rotating the tong, which sometimes happens with a man at the controls, or positioning the tong too-high or too-low on the tool joint. The cycle times of the tongs control system 29 are fast-enough, however, since the tongs sequence is coordinated with the racker and drawworks sequences. The tongs cycle does not cause a delay in the overall program sequence.
POWER TONGS CONTROL SYSTEM
FIG. 16 is a detailed schematic diagram of a tongs control system 29 embodying the teachings of this invention. However, before embarking upon a detailed discussion of the circuitry of the tongs control system 29, reference is directed to FIG. 15 which illustrates the interconnections between the tongs control system 29 with the computer 40. The interconnections between the tongs control system 29 and the tongs structural system 28 have been discussed in connection with FIG. 14, but are reproduced on FIG. 15 for clarity. As seen from FIG. 15, the computer 40 outputs signals to the tongs control system 29 on a line 1080 (SELECT SEQUENCE), which signal represents a command from the computer 40 for the tongs control system 29 to execute either a make-up or a break-out cycle. The line 1081 (RAISE TONGS) carries a signal from the computer to the tongs control system 29 initiating the raising of the tongs along the vertical column 1001 (FIG. 14) from the storage to the standby position. A line 1082 (START SEQUENCE) carries a command signal from the computer 40 to the tongs control system 29 initiating the start of the selected sequence.
Upon the receipt of the START SEQUENCE signal on the line 1082, the circuitry of the tongs control system 29 initiates operation of the tong's physical structure to perform the operations necessary to either make-up or break-out a drill string. These command signals from the tongs control system 29 have been detailed in connection with FIG. 14. Some of the command signals, as discussed, must be interfaced through the electro-to-hydraulic interface shown in FIG. 14A. The tong control system 29 is input with various feedback signals representative of the physical occurrence of certain actions within the tongs structure. These feedback signals from the means provided on the tongs structure have been detailed in connection with FIG. 14.
The tongs control system 29 outputs signals back to the computer. On the line 1084 (STABBER EXTENDED), an output signal is carried to the computer 40 indicating that the stabber (1009, FIG. 14) has been extended. This signal is meaningful only during the make-up sequence and provides information necessary to continue the pipe racker program. A line 1085 (BACKUP OPEN) carries information to the computer 40 representative of the fact that the backup tong 1007 is open. Finally, the tongs control system 29 outputs a signal on a line 1086 (SEQUENCE COMPLETE) representative of the fact that the selected cycle is complete and that the tongs have been returned to the storage position.
Referring now to FIG. 16, a detailed schematic diagram of the tongs control system 29 is illustrated. The operation thereof may be more fully understood by reference to FIG. 17A and 17B which are, respectively, timing diagrams for the tongs control system 29 shown in FIG. 16 in the make-up and break-out cycles.
In the overall computer controlled oil drilling rig embodying the teachings of this invention, the computer coordinates and sequences the operation of the tongs, drawworks and racker. The operating philosophy is to utilize a time-shared arrangement between the drawworks and racker control programs, with a minimum of interaction between the computer and the tongs. Basically, the computer initiates the selected tongs activity at the appropriate place in the cycle, with the activity being controlled by the tongs control system. Necessary signals from the tongs control to the computer to enable it to sequence the drawworks and racker are provided. When the tongs activity is completed a signal to this effect is sent to the computer.
It may also be noted that the control system shown in FIG. 16 is able to be utilized in connection with any power tongs structure due to the similarity of the operating elements. As discussed, all power tongs require a lift and lift speed controls, back-up tongs controls, power driven tong controls, as well as initiation signals to a stabber (if one is provided) and an initiation signal for operation of a joint sensor. Thus, the control system disclosed herein is adaptable and useful with any power tongs. Although the initiating signals to the control system orginate from a digital computer, it is understood that the initiating instructions may be provided to the control system 29 through a push-button control box, thus making the control "manual" (in the sense that the sequencing signals to the tongs control originate from a human operator as opposed to a digital computer) but still "automatic" (in the sense that valves regulating the flow of pressurized fluid to the tongs structure are operated by the electrical signal outputs of the tongs control system.)
All of the feedback signals from the tongs structure 28 are applied to the tongs control 29 through filter elements 1090 as shown in FIG. 16A and 16C. Each element 1090 contains a two-pole, low-pass filter to remove transients. It also contains a diode limiter to limit the magnitude of the input signal to a level compatible with the succeeding logic components.
In a make-up cycle, the signal from the computer on the line 1081 (RAISE TONGS) provides a logic signal to raise the tongs to the standby position. The RAISE TONGS signal on the line 1081 is filtered and limited, as discussed above, and applied to a delay circuit 1093 including a multivibrator A, inverters B and C, and a NOR gate D. The delay circuit 1093 provides a predetermined delay so that the duration of an incoming signal on the line 1081 must last at least the predetermined delay interval (for example, 0.3 seconds) before it is passed into the control logic. The delay 1093 provides additional protection against line transients causing a false signal.
The output of the delay circuit 1093, and specifically the output of the NOR gate D, clocks a LIFT UP flip-flop 1094. When clocked, the Q output of the LIFT UP flip-flop 1094 goes to a logic 1 and that signal is amplified by an amplifier 1095 and applied to a transistor 1096 causing it to conduct. The output signal on the line 1035 (LIFT UP) is applied to the E.H.I. 1028A to raise the tongs in an upward direction from the storage toward the standby position. The output of the delay network 1093 also resets the BACKUP CLOSED MEMORY flip-flop and the JOINT SENSED MEMORY flip-flop, as illustrated by the reference characters Z-Z.
At the standby position, a feedback signal on the line 1046 (from the upper limit switch 1045 (FIG. 14) generates a LIFT SPEED signal on the line 1037 to shift the speed of the upward motion of the tongs to slow. The output signal on the line 1037 (LIFT SPEED) is derived through an inverter 1097, a NOR gate 1098, an amplifier 1099 and a transistor 1100. The NOR gate 1098 derives its other input from the Q output of the LIFT UP flip-flop 1094. The same signal from the output of the inverter 1097 clocks a JOINT SENSOR flip-flop 1102. The clock signal is derived from a NOR gate 1103 which derives its inputs from the Q output of the network 1092 and the output of the inverter 1097, both of which are at logic 0 at this time. The data input to the flip-flop 1102 is derived from the output of a NOR gate 1104. The inputs to the gate 1104 (both of which are at logic 0 at this time) are derived from the output of the inverter 1097 and from the Q output of the LIFT UP flip-flop 1094. The Q output of the flip-flop 1102 is applied through an inverter 1105 and a transistor 1106 to the line 1044 (EXTEND SENSOR) to extend the joint sensor 1025 (FIG. 14). The sensor 1025 is extended only when the tongs are being lifted and only when the tongs are above the standby position.
The slow upward motion of the tongs continues until a JOINT SENSED feedback signal is received from the joint sensor 1025 on the feedback line 1060.
The JOINT SENSED feedback signal on the line 1060 generates several responses within the tongs control network 29. The signal on the line 1060, after appropriate filtering and limiting, resets the LIFT UP flip-flop 1094 through an amplifier 1108 to thereby stop the upward motion of the tongs. A JOINT SENSED signal also resets the JOINT SENSOR flip-flop 1102, again derived through the amplifier 1108, to retract the joint sensor 1025. Thirdly, the JOINT SENSED signal on the line 1060 sets a JOINT SENSED flip-flop memory 1110 as illustrated by reference characters W-W. Finally, the JOINT SENSED signal on the line 1060 causes the stabber 1109 (FIG. 14) to extend by clocking a STABBER flip-flop 1112 which applies a signal through an inverter 1114 and a transistor 1115 to the line 1042 (EXTEND STABBER). The STABBER flip-flop is clocked through a NOR gate 1117. The NOR gate 1117 derives its inputs from the output of the amplifier 1108 and from the Q output of the Schmitt trigger network 1092.
The receipt of a JOINT SENSOR RETRACTED signal on the line 1058 from the limit switch 1057 (FIG. 14) clocks a BACKUP flip-flop 1119. The output of the BACKUP flip-flop 1119 generates a signal on the output line 1038 (BACKUP) through an inverter 1120 and a transistor 1121 to close the backup tong 1007. A feedback signal STABBER EXTENDED from the switch 1053 is output on the line 1084 to the computer 40.
At this point in the sequence there is a pause until a signal is received on the line 1082 (START SEQUENCE) from the computer (FIG. 15) commanding that the joint make-up sequence be started. This signal is conducted through a delay circuit 1124 comprising a multivibrator E, inverters F and G and a NOR gate H. The delay network 1112 acts to impose a predetermined delay (for example, 0.3 seconds) such that the interval of any incoming signal on the 1082 must be at least 0.3 seconds in duration before it is passed. The output of the delay network 1124, and specifically the NOR gate H, resets the STABBER flip-flop 1112, retracting the STABBER 1109 (FIG. 14). The output signal from the delay circuit 1124 provides one input to an AND gate 1126 through an inverter 1127 and a NOR Gate 1128. The NOR gate 1128 derives its inputs from the inverter 1127 and from the Q output of the bistable network 1092. The second input to the AND gate 1126 is derived from a feedback signal from the switch 1053 on the line 1054 indicating that the stabber is not extended.
The output of the AND gate 1126 is applied to a NOR gate 1130 which derives its other input from an inverter 1131. The inputs to the inverter 1131 are derived from a feedback signal on the line 1058 (BACKUP CLOSED) from the limit switch 1049 (FIG. 14.) The input on the line 1050 (BACKUP CLOSED) is applied to a delay circuit 1133 for reasons similar to those discussed above. The delay circuit 1133 includes a multivibrator I, an inverter J, and a NOR gate K. The output of the delay network 1133 is applied to the inverter 1131 and also sets a BACKUP CLOSED MEMORY flip-flop 1134.
The output of the NOR gate 1130 sets a MAKE-UP flip-flop 1135. The Q output of the MAKE-UP flip-flop 1135 enables the appropriate one (1137A) of the NAND gate 1137A and 1137B through a diode 1138. The second input to the NAND gate 1137A is derived from the Q output of the bistable network 1092 as illustrated by the reference characters U-U. The second input to the NAND gate 1137B is derived from the Q output of the network 1092 as illustrated by the reference characters V-V.
The output of the enabled NAND gate 1137A is applied to the line 1039 (TONG MAKE) through a diode 1139, an inverter 1140, and a transistor 1141. This causes the jaws of the power driven tong to close and to rotate clockwise to make-up the joint. The output of the NAND gate 1137B, which is not enabled during the make-up mode, is applied to the line 1040 (TONG BREAK) through a diode 1143, an inverter 1144 and a transistor 1145. The tongs motor 1017 is rotated until a TORQUED UP signal on the line 1056 is received from the feedback means 1055 on the makeup cylinder (illustrated as a switch in FIG. 16A). The signal on the line 1056 (TORQUED UP) resets the MAKE-UP flip-flop 1135, as illustrated by the reference characters P-P, which stops the tongs motor rotation. As the Q output from the MAKE-UP flip-flop 1135 goes low, a pulse is applied through a capacitor 1147 and an inverter 1148 to initiate a timer 1150 (t1) comprising NOR gate 1151A and an inverter 1151B. The output of the timer 1150 provides an adjustable delay t1 (see timing diagram, FIG. 17A), the period of which is set by a potentiometer 1150A.
When the time t1 runs out, a pulse through a capacitor 1152 initiates a second timer 1154 comprising NOR gates 1155A and an inverter 1155B. This timer 1154 (set by a potentiometer 1154A) provides an adjustable time t3 during which the electrically controlled solenoid valve 1077 connected by the line 1040 (TONG BREAK) in the interface module 1028A (FIG. 14A) is energized through a resistor 1196 and a NAND gate 1157, a diode 1158, the inverter 1144 and the transistor 1145. This signal on the line 1040 reverses the tongs motor 1017 so that it rotates clockwise to open the jaws of the power driven tong 1008. The second input to the NAND gate 1157 is derived form the Q output of the Schmitt trigger network 1092 as illustrated by reference characters U-U. When time t3 runs out, the signal on the line 1040 terminates, de-energizing the transistor 1017. At the same time, a pulse is applied through an inverter 1160, a capacitor 1161 and a diode 1162 to reset the BACKUP flip-flop 1119 which causes the backup tong 1007 to open.
A signal on the line 1052 (BACKUP OPEN) from the switch 1051 (FIG. 14) clocks a LIFT DOWN flip-flop 1164. The Q output (a logic 1) of the LIFT DOWN flip-flop 1164 is applied to the line 1036 (LIFT DOWN) through an amplifier 1165 and a transistor 1166 to lower the tongs. In addition, the signal on the line 1052 (BACKUP OPEN) is AND-ed with two other signals through diodes 1168, 1169 and 1170. The BACKUP OPEN signal is applied on the output line 1085 through the amplifier 1172 and transistor 1173 only if the JOINT SENSED MEMORY flip-flop 1110 and the BACKUP CLOSED MEMORY flip-flop 1134 have both been previously set. Therefore, the BACKUP OPEN signal output on the line 1085 to the computer is inhibited unless the tongs have been cycled through the major phases of their operational sequence.
As the tongs approach the storage position, the lower limit switch 1047 (FIG. 14) outputs a signal on the line 1048 to the tongs control system 29. This signal is applied through an amplifier 1175 and a diode 1176 to reset the LIFT DOWN flip-flop 1164.
Resetting of the LIFT DOWN flip-flop 1164 stops the tongs lowering motion. A signal from the lower switch 1047 is also applied to the line 1086 (SEQUENCE COMPLETE) indicating that the tongs sequence is completed (FIG. 15). It signified to the computer that the tongs are clear of any potentially obstructing position with the elevator to permit the elevator 75 (FIG. 2) to be lowered to the desired elevation.
A delay network 1178 (FIG. 16C) consisting of a resistor 1179, a diode 1180, a capacitor 1181 and an inverter 1182 function to reset all flip-flops as illustrated by reference characters R-R when system power is applied. It insures that all logic components are preset to the proper state at the beginning of the sequence.
The timing diagram for a break-out cycle is shown in FIG. 17B. During a break-out cycle, a logic 1 signal on the line 1080 (SELECT SEQUENCE) from the computer 40 transfers the logic circuits to the proper configuration. Namely, the Q output of the Schmitt trigger network 1092 is in a logic 0 condition while the Q output thereof is in a logic1 condition. A RAISE TONGS signal on the ine 1081 sets the LIFT UP flip-flop 1094 raising the tongs, as previously discussed. The lifting motion of the tongs is halted by a feedback signal from the upper limit switch 1045 (FIG. 14) on the line 1046 which is inverted the the inverter 1097, and coupled through a capacitor 1184 and a NOR gate 1185 to reset the LIFT UP flip-flop 1094. A pause in the tong sequence follows with the tongs remaining in the standby position.
When the tool joint is hoisted into position, a breakout signal is applied on the line 1082 (START SEQUENCE) through the delay network 1124. The output of the delay network 1124 clocks the JOINT SENSOR flip-flop 1102 through inverter 1127 and a NOR gate 1187 to extend the joint sensor 1025. The other input to the NOR gate 1187 is derived from the Q output of the bistable network 1092. The output of the delay network 1124 also clocks the LIFT UP flip-flop 1094, again through the inverter 1127 and NOR gate 1187.
The Q output of the LIFT UP flip-flop 1094 is NOR-ed at the gate 1098 with the signal from the upper limit switch 1045 on the line 1056 as inverted by the inverter 1097. The output of the NOR gate 1098 is applied through the amplifier 1099 and applied to the transistor 1100 switches to a conductive state. The output signal on the line 1037 (LIFT SPEED) switches the tongs lifting motion to a speed slow enough to detect the joint. The joint sensor is extended when the JOINT SENSOR flip-flop 1102 is clocked by a signal from the output of the NOR gate 1103. The NOR gate 1103 derives its inputs from the output of the inverter 1097 and the Q output of the bistable network 1092.
As the tongs reach the desired elevation, a JOINT SENSED feedback signal on the line 1060 from the joint sensor 1025 is received. The JOINT SENSED signal resets the LIFT UP flip-flop 1094 through the amplifier 1108 to stop the lift motion of the tongs. The JOINT SENSED feedback signal also sets the JOINT SENSED MEMORY flip-flop 1110 as illustrated by the reference characters W-W. The JOINT SENSED feedback signal also resets the JOINT SENSOR flip-flop 1102 through the amplifier 1108 to retract the joint sensor 1025. The retraction of the joint sensor 1025 generates a feedback signal on the line 1058 to clock the BACKUP flip-flop 1119.
A signal from the feedback switch 1049 on the line 1058 (BACKUP CLOSED) is applied to the delay network 1133 to prevent any initial transients as the backup starts to close from appearing as a true signal. The output of the delay network 1133 sets the BACKUP CLOSED MEMORY flip-flop 1134. The output of the delay network 1133 is also applied to a NAND gate 1188. The second input to the NAND gate 1188 is derived from the Q output of the Schmitt trigger network 1092 as illustrated by the reference characters V-V. The output of the NAND gate 1188 is coupled through a capacitor 1189 to a timer 1190. The duration of the output of the timer 1190 is an adjustable time delay t5 (FIG. 17B) set by a potentiometer 1190A. The output of the timer 1190 is connected through a diode 1191 and switches the properly enabled NAND gate. In this case the enabled gate, 1137B, derives its second input from the Q output of the bistable network 1092 as illustrated by reference characters V-V. A signal is applied to the line 1040 (TONG BREAK) through the diode 1143, the inverter 1144 and the transistor 1145 to the tongs motor 1017 to break out the joint by counterclockwise rotation.
When the timer 1190 times out, the tongs motor 1017 is de-energized and a pulse is coupled through the capacitor 1147 and the inverter 1148 to start the t1 timer 1150. During the break-out cycle the transistors 1192 and 1193 are conducting so that the potentiometer 1150A which normally sets the duration of t1 is bypassed. A long delay is unnecessary in the break-out mode. When the t1 timer 1150 times out, a pulse is coupled by a capacitor 1152 to initiate the t3 timer 1154. The output of the t3 timer 1154 is applied to a NAND gate 1195 through a resistor 1196. This input to the NAND gate 1195 is also coupled from the output of the inverter 1097 through a diode 1197 and an inverter 1198. The second input of the NAND gate is connected to the Q output of the Schmitt trigger network 1092 as illustrated by reference characters V--V.
When the output of the t3 timer 1154 is applied to the NAND gate 1195, its output switches to logic 1 and this is applied through a diode 1199 and the amplifier 1140 to the line 1039 (TONG BREAK). This energizes the tongs motor 1017 (FIG. 14) for the time period t3 in a clockwise direction so as to open the jaws of the power driven tong 1008.
When the t3 timer 1154 is timed out, a pulse is coupled through the inverter 1160, the capacitor 1161 and the diode 1162 to reset the BACKUP flip-flop 1119. This opens the jaws of the backup tong 1007. A signal on the line 1052 (BACKUP OPEN) from the switch 1051 clocks the LIFT DOWN flip-flop 1164 to return the tongs to the storage position. This signal (BACKUP OPEN) is applied through the diode 1170 to the amplifier 1172 along with enabling signals through the diodes 1168 and 1169 to switch the transistor 1173 on. This output signal on the line 1085 (BACKUP OPEN) is applied to the computer only if the previously discussed preconditions have been met. This signal to the computer 40 signifies that the pipe stand is ready to be moved to its storage position.
When the tongs reach the storage position the switch 1047 outputs a signal on the line 1048 (TONGS IN STORAGE) to reset the LIFT DOWN flip-flop 1164 halting the motion and a signal on the line 1086 (SEQUENCE COMPLETE) is output to the computer indicating that the tongs sequence is complete.
The diodes 1201 and 1202 prevent the BACKUP flip-flop 1119 from being clocked while the tong lift is in motion. Conversely, the BACKUP OPEN signal on the line 1052 is applied as an enabling signal to the data input of the LIFT UP flip-flop 1094 as illustrated by reference characters Q--Q and the data input of the LIFT DOWN flip-flop 1164. Neither flip-flop may be clocked unless the backup is open. This prevents tong lift motion unless the backup is open.
JOINT SENSOR
Referring to FIGS. 18A and 18B, respectively shown are side elevational and top views of a joint sensor generally indicated by reference numeral 1025 embodying the teachings of this invention. The joint sensor 1025 is attached beneath the backup tong 1007 of a power tongs assembly (FIG. 14) and is operative to accurately position the backup tong 1007 and a driven tong 1008 in a symmetrical relationship with the tool joint being made-up or broken-out by the tongs 1000 under the control of the tongs control system 29. Since the gripping space for the tongs dies is limited, and since considerable force must be applied to these dies, it is necessary to locate the backup tong 1007 and the driven tong 1008 as nearly as possible in vertical symmetry above and below a horizontal plane extending through the tool joint.
The joint sensor 1025 includes a sensor arrangement 1204 which comprises an arm 1206 having a roller 1208 thereon, the roller being contactable with a drill pipe and the arm being pivotally moveable with respect thereto from a first, normal, position to a second, deflected, position. The detector arrangement 1204 also comprises means 1210, including the limit switch 1059, associated with the arm 1206 for generating an electrical signal on the output line 1060 (JOINT SENSED) when the arm 1206 is pivotally deflected a predetermined angular distance from the normal position by being brought into contact with a distended location on the pipe. The arm 1206 is biased into the normal position by an internal spring assembly (not shown). The means 1210 may be any suitable commercially available assembly, such as that sold by Mirco under model number BZLN-2-RH.
In FIGS. 18A and 18B, the joint sensor arrangement 1204 of the sensor 1025 is mounted on a carriage 1212 disposed for movement within a suitable housing 1214. The housing 1214 is connectable by any suitable attachment arrangement 1216 to the underside of the backup tong 1007. Disposed within the housing 1214 is a piston-cylinder arrangement 1026 (FIG. 14). The piston-cylinder arrangement is in fluid communication with the lines 1027 carrying a fluid (such as pressurized air) (FIG. 14) illustrated diagrammatically on FIG. 18A and are provided to extend the joint sensor from a first, horizontally retracted, position to a second, horizontally extended, position. Included within the piston-cylinder 1026 is the limit switch 1057 which outputs an electrical signal on the line 1058 (JOINT SENSOR RETRACTED) to the tongs control system 29 when the sensor 1204 is in the horizontally retracted position. The cylinder 1026 may provide a stroke greater than is necessary to extend the sensor 1204 to contact the pipe whose joint is to be sensed to provide an additional ability to follow any longitudinal misalignemnt of the pipe or irregularities in its surface, as with pipes exhibited an external upset (FIG. 19). The pressure of the pressurized air in the line 1027 is sufficient to hold the extended sensor 1204 in position against the pipe. It is most advantageous to use a compressible fluid, as pressurized air, so that the pressurized air in the piston-cylinder 1026 acts as a spring to allow movement of the sensor 1204 after it is extended.
The carriage 1212 has horizontal roller element 1218 engageable with guide rails 1220 mounted within the housing 1214. The horizontal rollers 1218 are provided to facilitate the horizontal movement of the sensor 1204 and carriage 1212 therefor in response to actuation of the piston-cylinder 1026.
In one embodiment of the invention, the carriage 1212 is provided with a pair of guide rollers 1222A and 1222B. As shown in FIG. 18B, the axes of rotation of each of the guide rollers 1222 define a predetermined angle 1224 of approximately 120 degrees therebetween. The angularity between the guide rollers 1222 assists in centering the sensor 1204 laterally with respect to the pipe. Centering springs 1226A and 1226B are also provided between the guide rails 1220 and the housing 1214 to permit the guide rollers 1222 to align the sensor 1204 with the pipe even though the pipe may not be centered within the tongs. In an alternate embodiment of this invention, the guide roller 1222 and the detector roller 1208 may each be of a predetermined lateral dimension and in a parallel relationship so as to be able to contact the pipe regardless of the centered orientation thereof with respect to the tongs. In such a structural embodiment, the carriage 1212 is moved horizontally from the retracted to the extended position by the piston-cylinder 1026 and lateral centering of the sensor 1204 on the pipe is not required.
In operation, the sensor roller 1208 moves with the tongs slowly upwardly until the arm 1206 is pivotally deflected from its normally outwardly biased position against the surface of the pipe by a distended surface feature on the pipe. With reference to FIG. 19, it is there shown that dependent upon the pipe utilized, any one of a predetermined number of distended portions on the pipe may be used to actuate the sensor arrangement embodying the teachings of this invention. The location on the box end taper (FIG. 19) having a predetermined diameter of approximately 5.70 inches when using 5.00 inch drill pipe, is such a convenient location on the pipe. When the predetermined location on the pipe is encountered by the sensor roller 1208 and the arm 1206 is pivotally deflected from the normal position, the switch 1059 emits an electrical signal on the line 1060 that the joint has been sensed. When the predetermined location on the pipe is encountered, the distance 1230 from that location to the joint is a known value. As discussed in connection with the tongs control system 29 in FIG. 16, the lift is stopped, the sensor is retracted, and the backup tong 1007 is locked.
Due to the standardization of drill pipes in the oil drilling industry, detection of a predetermined location, such as a predetermined diameter on the box end taper, insures that any other surface feature on the pipe, such as the joint itself, is then a predetermined known distance 1230 from the location which generated the deflection signal. Thus, it is insured that the tongs is in the operating position, that the backup tong and the driven tong are vertically symmetrical with respect to a horizontal plane through the pipe joint and that the joint may be made-up or broken-out by the tongs.
With reference to FIG. 19, shown are views of standard drill pipe stands having the commonly named portions thereof indicated as shown. Each end of each pipe stand illustrated has a distended joint portion indicated on FIG. 2 at reference numeral 56. One end of the stands includes a threaded male member while the opposite end thereof is an internally threaded female member. Normally, the pipe stand is inserted into the drill string such that the male end of each stand is inserted into the bore before the female end thereof. The male end of the next-to-be engaged stand is then connected by a power tongs to the protruding female member of the last-inserted stand.
At both the male and female ends of the stand, below the tool joint outer diameter, a taper portion known as the box end taper and the pin end taper, respectively, is provided on the female and male ends of the stands. Depending upon whether an internal or external upset is provided, further tapering of the drill pipe stand may occur. The basic difference between an internal and external upset pipe stand is illustrated in FIG. 19. Basically, an internally upset pipe presents a constant outer diameter between each of the end tapers while an externally upset pipe exhibits an upset taper on the exterior of the pipe stand. In order to accommodate either internally or externally pipe stands, the joint sensor 1025 embodying the teachings of this invention is operative to emit a signal when the roller 1208 and arm 1206 thereof comes into abutting contact with and is deflected by a predetermined location on the box end taper. Of course, any predetermined location on the end taper sections, either on the internally or externally upset pipe stand, may be detected by a joint sensor 1025 embodying the teachings of this invention.
The program listing for use with the instant invention is disclosed in U.S. Pat. No. 4,128,888, the disclosure of which is incorporated by reference.
Having described a preferred embodiment of the invention, those skilled in the art may appreciate that modifications may be imparted thereto yet remain within the scope of the appended claims.