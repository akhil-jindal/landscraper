Analog to pulse rate converter 
US-3942110-A
General Electric Company
1976-03-02
https://patents.google.com/patent/US3942110A/en
BACKGROUND OF THE INVENTION
This invention relates to an analog to pulse rate converter.
In the past, circuits have been provided for converting an analog input signal to an output signal wherein the output signal is a pulse train having a frequency which is related to the amplitude of the input analog signal. These prior art converters have typically been limited to a rather narrow dynamic range. Further, while such converters have been capable of monopolar operation, they have not been easily adapted for converting dual polarity analog input signals to a pulse train having a frequency which is proportional to the magnitude of the input signal.
It therefore is an object of this invention to provide an efficient and accurate analog to pulse rate converter having a wide dynamic range.
It is another object of this invention to provide an efficient, economical and accurate dual polarity analog to pulse rate converter.
Accordingly, this invention relates to an analog to pulse rate converter for converting an input analog signal to an output pulse train having a frequency which is proportional to the magnitude of the input signal. The converter utilizes C-MOS circuitry in order to conserve power and improve the accuracy of the circuit. The circuit includes an integrator for integrating the analog input signal wherein the integrator is operated substantially in its linear region. A threshold detector formed of C-MOS components detects when the output of the integrator reaches a predetermined threshold level. The output of the threshold detector is coupled to a JK flip-flop which provides an output pulse having a predetermined pulse width. The output of the JK flip-flop is coupled back to a reset switch which when closed resets the integrator to a reference level. The JK flip-flop is then reset and the reset switch is opened so that the integrator can then again integrate the analog input signal until the threshold level is again reached.
Other objects, features and advantages of the present invention will become more fully apparent in the following detailed description of the preferred embodiment, appended claims and accompanying drawings in which:
FIG. 1 is a schematic illustration of the analog to digital converter of the present invention;
FIG. 2 is a schematic block diagram of an alternate embodiment of the analog to digital converter of the present invention for converting dual polarity analog input signals to an output pulse train;
FIG. 3 is a graphical display illustrating the output pulse rate versus input amplitude of the analog to pulse rate converter of FIG. 2;
FIG. 4 is a more detailed schematic illustration of the analog to pulse rate converter of FIG. 2; and
FIG. 5 is a series of graphical displays illustrating the waveforms associated with the analog to pulse rate converter of FIGS. 1 and 2.
DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT
Refer now to FIG. 1 where there is disclosed a schematic illustration of the analog to pulse rate converter of the present invention. At the input an integrator circuit, generally designated by the numeral 12, is provided which includes an operational amplifier 11 and a feedback capacitor Cf. The operational amplifier 11 is illustrated having an input resistor 13 connected to its inverting terminal and a reference resistor 16 connected to its non-inverting terminal. The other end of resistor 13 serves as an input terminal 15 to which an input analog signal is coupled. The operational amplifier 11 may be of any conventional design, such as a conventional bipolar integrated circuit operational amplifier or may preferably be designed with C-MOS circuitry so that it can be combined with the C-MOS circuitry to be described on a monolithic semiconductor chip.
The output of the operational amplifier 11 is connected to a threshold detection circuit generally designated by the numeral 17. The threshold circuit 17 includes a pair of complementary metal oxide semiconductor transistors, hereinafter designated C-MOS transistors. The threshold detector 17 includes transistors 19 and 21 wherein the two transistors are complementary voltage level sensitive types arranged so that the transistors serve as mutual load circuits for each other. Thus, transistor 19 is a P channel MOS transistor having its source terminal connected to a positive DC supply Vcc and its drain terminal connected in common with the drain terminal of N channel MOS transistor 21. The source of the N channel transistor 21 is connected to a reference potential, such as ground. The gate terminals of both transistors are connected to the output of the operational amplifier 11.
As will be seen in connection with the description of the operation of the circuit hereinbelow, the threshold detector 17 functions as a comparator since it changes its state whenever the output of the operational amplifier reaches a threshold level. The output of the threshold detector 17 is connected to an inverter circuit 23 which includes a P channel MOS transistor 25 and an N channel MOS transistor 27 wherein the source terminal of the P channel transistor 25 is connected to the DC supply Vcc and the drain terminal thereof is connected in common with the drain terminal of N channel transistor 27. The source terminal of the transistor 27 is connected to the reference potential and the gate terminals of both transistors are connected to the output of the threshold detector 17. The output of the inverter 23 is connected to a second inverter 29 and to the K input of JK flip-flop 31. Inverter 29 is identical to inverter 23 and includes a pair of MOS transistors including P channel transistor 33 and N channel transistor 35. P channel transistor 33 and N channel transistor 35 are connected in the same manner as transistors 25 and 27, respectively. The output of the inverter 29 is connected directly to the J input terminal of the JK flip-flop 31.
As is known, MOS transistors are ordinarily provided with substrate terminals. These have been omitted here in the interest of clarity, it being understood that the P channel transistors 19, 25 and 33 have substrate connections which are connected to the positive DC supply Vcc while the N channel transistors 21, 27 and 35 have substrate connections which are made to ground.
In order to provide a clock signal for the JK flip-flop, a 400 kHz quartz crystal oscillator 37 is provided. Quartz crystal oscillators are well known in the art and can be made using C-MOS transistor circuitry or can use other conventional circuit concepts for providing a stable frequency standard. The output of the quartz crystal oscillator 37 is divided down to 6250 Hz by means of a frequency divider 39. Frequency divider 39 may be of conventional design and in the preferred embodiment, utilizes C-MOS divider stages in order to minimize the size of the circuitry and the power utilized therein. The 6250 Hz clocking signal at the output of the divider circuit 39 is in the form of a square wave, as illustrated in FIG. 5c and is utilized to clock the JK flip-flop 31.
The Q output of the flip-flop 31 is connected to an output terminal 41 of the analog to pulse rate converter and in addition is connected to the gate terminals of transistors 45 and 47 which form a level detector circuit 43. The source terminal of the P channel transistor 45 is connected to a positive DC supply Vcc and the drain terminal thereof is connected in common with the drain terminal of transistor 47 and to the gate terminal of the N channel transistor 51 of the C-MOS transmission pair 53. The source terminal of transistor 47 is connected to the reference potential. The output of the JK flip-flop 31 is also connected to the gate terminal of the P channel transistor 55 of the transmission pair 53.
The Q output of the JK flip-flop 31 is connected to a second level detector 57 which includes a P channel MOS transistor 59 and a N channel MOS transistor 61. The P channel transistor 59 and the N channel transistor 61 are connected in the same manner as the transistors of the level detector 43. The output of the detector 57 is connected to the gate terminal of an N channel transistor 63 which forms a part of a second C-MOS transmission pair 65. The Q output of the JK flip-flop 31 is also connected to the gate terminal of the P channel transistor 67 of the transmission pair 65. Transmission pairs such as 53 and 65 are known in the art and act as a gating means when appropriate input signals are coupled to the respective transistors which form the transmission pair. The drain output of each of the transistors which form the transmission pairs is coupled to the inverting input of the operational amplifier 11 via a discharge resistor 69.
The operation of the circuit will now be described. At the outset in order to understand the operation of the circuit, it should be recalled that P channel enhancement mode MOS transistors are turned on when a low gate voltage appears at the gate terminal thereof. By increasing the gate voltage, the conductivity of the transistor is reduced until ultimately the transistor is turned off when a high enough gate voltage is applied thereto. Conversely, for N channel enhancement mode MOS transistors, the transistor is turned on for high gate voltages and is turned off for low gate voltages.
Assume that the input signal at terminal 15 is a negative voltage. This voltage is integrated by the integrating circuit 12 until the voltage across the capacitor Cf reaches a predetermined threshold level. When the threshold level is reached, transistor 19 is turned off and transistor 21 is turned on, thereby driving the voltage at the gate terminals of transistors 25 and 27 to a low voltage. Thus, P channel transistor 25 is turned on and N channel transistor 27 is turned off. Accordingly, the input to the K terminal of the JK flip-flop and to the gate terminals of transistors 33 and 35 approaches the positive source voltage Vcc. Thus, transistor 33 is turned off and transistor 35 is turned on, therefore driving the voltage at the J input of the flip-flop 31 to a low voltage.
With the input at the J terminal of the flip-flop low and input at the K terminal high, when the clock pulse input to the flip-flop goes high, the output at the Q terminal of the flip-flop goes high and the Q output thereof goes low. Thus, transistor 47 is turned on and transistor 45 is turned off, thereby driving the output terminal of the level detector 43 to a low potential. Hence, MOS transistor 51, since it is of the N channel type, is turned off. At the same time, since the Q output of the JK flip-flop 31 is high, the other transistor 55 of the transmission pair 53 is turned off. Hence, the conductive paths through the transmission pair 53 are opened.
The Q output of the JK flip-flop which is low is coupled to the gate terminals of the transistors 59 and 61, thereby turning on transistor 59 and turning off N channel transistor 61, thereby driving the output of the level detector 57 high. This output is coupled to the gate terminal of N channel transistor 63 to turn this transistor on. At the same time the low output level at the Q of the flip-flop 31 is connected to the P channel transistor 67 to thereby turn this transistor on. With both transistors 63 and 67 conducting, the reference voltage VR is connected to the integrator via discharge resistor 69. Thus, the charge on the capacitor Cf discharges at a predetermined rate which is determined by the value of the capacitor Cf, the value of the resistor 69 and the voltage VR. The resistor 69 and voltage VR are chosen such that the capacitor Cf will discharge to a reference voltage, such as 0 volts, by the time that one clock pulse cycle at the output of divider 39 has been completed.
When capacitor Cf has been discharged to the reference level, the voltage at the input of the threshold detector 17 has again gone to its low state, thereby reversing the conductive state of the transistors 19 and 21. This in turn causes the outputs of inverters 23 and 29 to be inverted, thereby generating a positive input at the J input of the flip-flop 31 and a negative voltage at the K input thereof. Thus, when the clock pulse input to the flip-flop 31 begins a new cycle, the output voltages at the Q and Q terminals of the JK flip-flop are reversed so that the Q output is low and the Q output is high. Thus, N channel transistor 47 is turned off and P channel transistor 45 is turned on, thereby generating a positive or high output which is coupled to the N channel transistor 51 of the MOS transmission pair 53. At the same time, the low output of the Q terminal of the JK flip-flop is coupled to the P channel transistor 55 to thereby turn on this transistor so that the transmission pair 53 connects the discharge resistor 69 directly to ground. At the same time, the transmission pair 65 is turned off since the input to the P channel transistor is high and the input to the N channel transistor is low because of the inverting action of the threshold detector 57. Thus, a new integration cycle being immediately after the capacitor Cf has been discharged.
It can be seen that the capacitor Cf of the integrator 12 is charged by an input current, hereinafter designated IF, when an analog voltage is coupled to the input terminal 15. The charge on the capacitor Cf with respect to time is given by the following relationship. ##EQU1## where QF is the charge on the capacitor Cf. TF is the time required for the capacitor to charge to the threshold level as illustrated in FIG. 5b.
Similarly, the discharge of the capacitor Cf is in accordance with the following relationship: ##EQU2## where IR is the discharge current through resistor 69 and TR is the time required for the capacitor to discharge. Since QF (t) = QR (t) and ##EQU3## the pulse rate or frequency f at the output terminal 41 is, ##EQU4## Also, ##EQU5## where To is the clock oscillator period (1/fo), and Ko is the frequency divider factor (Ko =64).
The pulse rate from equations 5 can therefore be given as follows: ##EQU6## where K is the analog conversion factor in voltage seconds.
It therefore can be seen from equation 6 that the output pulse rate is directly proportional to the input voltage Vin or the input current IR since IR and TR as well as resistors 13 and 69 are constant. Accordingly, an accurate analog to digital conversion is achieved. As aforementioned, the time reference TR is produced by using a crystal oscillator 37 which oscillates at, for example, 400 kHz. A six-bit binary divider 39 converts the 400 kHz oscillator frequency down to 6250 Hz. The time TR is the time reference and determines the discharge time of the integrator, while the current IR is determined by a constant reference source VR and resistor 69. Thus, an analog to pulse rate conversion is provided which is exceedingly linear over a wide dynamic range.
Refer now to FIG. 2 where there is disclosed a schematic block diagram of a dual polarity analog to pulse rate converter. In this circuit both positive and negative input signals are converted to an output pulse train wherein the frequency of the output pulse train is proportional to the magnitude of the input signal regardless of the polarity of the input signal. A resistor 71 is connected at one end to an input terminal 73 of the converter and at the other end to an operational amplifier 75. The operational amplifier may be of any suitable design known in the art. A feedback capacitor Cf is connected across the input and output terminals of the operational amplifier 75 so that an integrator circuit, generally designated by the numeral 76, is provided. The output of the operational amplifier 75 is connected to a pair of comparators 77 and 79. Comparator 77 provides an output for switching flip-flop 81 when the output of the operational amplifier 75 reaches a positive threshold level and the comparator 79 provides an output for switching flip-flop 83 when the output of the operational amplifier 17 reaches a predetermined negative threshold level. Both flip-flops 81 and 83 are clocked from a suitable frequency source 85 which generates a clock pulse train having a frequency fc. As in the circuit of FIG. 1, the oscillator circuit 85 includes a standard quartz crystal oscillator and an appropriate divider circuit for reducing the clock pulse frequency rate to a desired level.
The Q output of flip-flop 81 is connected to one input of a NOR gate 87 and to a reset switch 89 illustrated schematically in the figure. The reset switch 89 is ordinarily connected to a reference potential such as ground; however, when the Q output of the flip-flop 81 goes high, the switch arm 91 is coupled to a positive reference source VR to thereby connect the source to the input of the integrator via a discharge resistor 93.
The output of the other flip-flop 83 is connected to the second input of the NOR gate 87 and in addition is connected to a second reset circuit 95 which is schematically illustrated in the figure. The switch arm 97 of the reset circuit 95 is normally connected to a reference potential such as ground but when the Q output of flip-flop 83 goes positive, the switch arm 97 is connected to a negative reference voltage VR. The negative reference voltage VR is connected to the input of the integrator via a discharge resistor 99.
In operation, when for example, a positive analog signal is coupled to the input terminal 73, the capacitor Cf charges until the output of the operational amplifier 75 reaches a predetermined negative threshold voltage. When this occurs, comparator 79 generates an output pulse which switches flip-flop 83. Thus, the Q output of the flip-flop 83 goes positive or high, thereby driving the output of the NOR gate 87 low. At the same time, the positive or high output of the flip-flop 83 is coupled to reset switch 95 to thereby cause the negative reference voltage VR to be coupled to the input terminal of the integrator circuit formed by the operational amplifier 75 and the resistor Cf. Thus, the capacitor Cf discharges for a period of time which is determined by the value of the voltage VR and the resistor 99. The voltage VR and the resistor 99 are selected such that the capacitor Cf discharges to a reference potential during one cycle of the clock pulse output of oscillator 85, as can be seen with reference to FIGS. 5b and 5c. With capacitor Cf discharged to the reference potential, switch 95 is reset and the integrator again integrates the signal input at terminal 73. This cycle repeats itself with the frequency at the output being determined by the amplitude of the input voltage at terminal 73.
If the input at terminal 73 is negative, the capacitor Cf charges until the output of the operational amplifier 75 reaches a predetermined positive threshold level. When this occurs, comparator 77 provides an output pulse for switching flip-flop 81. Flip-flop 81 then provides a high or positive output at its Q terminal, thereby driving the output of NOR gate 87 to a low voltage. At the same time, the high output of flip-flop 81 is coupled to reset switch 89 which connects the reference voltage VR to the input of the operational amplifier 75 via discharge resistor 93. Capacitor Cf then discharges through resistor 93 until the output of the operational amplifier 75 reaches a predetermined reference level. Resistor 93 and reference voltage VR are selected so that the capacitor Cf discharges to the reference level during one clock pulse cycle, as illustrated graphically by FIGS. 5b and 5c. When capacitor Cf has been completely discharged, switch 89 is reset and the capacitor is again charged through input resistor 71 until the output of the integrator again reaches its threshold level.
Referring to FIG. 3, it can be seen that the transfer function of the dual polarity analog to digital converter of FIG. 2 provides a pulse train output having a frequency which is linearly related to the magnitude at the input of the circuit regardless of polarity of the input. Thus, for a positive analog signal having a voltage V1, the converter provides an output pulse train having a frequency F1 and if a negative voltage having the same magnitude V1 as the positive input signal is coupled to the converter, the converter will generate a pulse train at the output thereof having the same frequency F1.
Refer now to FIG. 4 where there is disclosed a more detailed circuit diagram of the dual polarity analog to digital converter of FIG. 2. An input resistor 71 is connected to the input terminal 73 of the converter and to the inverting input terminal of an operational amplifier 75. The non-inverting input terminal to the operational amplifier 75 is connected to a reference potential such as ground. A feed-back capacitor Cf is connected across the input and output terminals of the operational amplifier 75 to thereby provide an integrating circuit generally designated by the numeral 76. The output of the integrating circuit 76 is connected to a pair of threshold detectors 77 and 79. Threshold detectors 77 and 79 may be of conventional design and if desired, they may be of similar design to the threshold detector 17 illustrated in FIG. 1 which includes a pair C-MOS transistors, one being of the P channel type and the other being of the N channel type. Threshold detector 77 provides an output pulse when the output of the integrator 76 reaches a positive threshold level. The output of threshold detector 77 is connected to a first inverter 78 which may also be of any conventional design known in the art or may include a pair of C-MOS transistors such as the inverter 23 illustrated in FIG. 1. The output of inverter 78 is connected to the K input terminal of the JK flip-flop 81 and in addition is connected to a second inverter circuit 80. The inverter circuit 80 is preferably of the same design as the inverter circuit 78.
The JK flip-flop 81 is clocked by means of a suitable clock pulse train which, as aforementioned, can be generated by a quartz crystal oscillator which has its frequency divided to a desired level by means of a chain of binary divider stages. The output of the JK flip-flop 81 is connected to one input of a NOR gate 87.
The output of the flip-flop 81 is also connected to a level sensor 101 which determines when the Q output of the flip-flop goes positive. The level sensor 101 may be of any suitable circuit design known in the art but in the preferred embodiment is a C-MOS transistor threshold detector similar to the threshold detector 43 illustrated in FIG. 1. If the input to the level sensor 101 is high, the output thereof will be low. This low voltage signal is coupled to the gate terminals of P channel transistor 103 and N channel transistor 105, each of which forms one leg of transmission pairs 107 and 109, respectively. The output of the level sensor 101 is also inverted by C-MOS inverter 111, the output of which is connected to the gate terminals of N channel transistor 113 and P channel transistor 115 which form the other legs of the transmission pairs 107 and 109, respectively. The drain terminals of each of the transistors 103, 105, 113 and 115 are connected in common to a discharge resistor 93 which is connected to the input of the integrator 76. The source terminals of transistors 103 and 113 are connected to a positive reference source V while the source terminals of transistors 105 and 115 are connected in common to a reference potential such as ground.
If the input signal of terminal 73 is positive, the level detector 79 will generate an output signal when the output of the integrator 76 reaches a predetermined negative level. The output of level sensor 79 is inverted by inverter 82, the output of which is coupled to a second inverter 84 and to the K input of JK flip-flop 83. The output of the inverter 84 is connected to the J input terminal of flip-flop 83. Both the inverters 82 and 84 are of similar design to inverters 78 and 80, with the exception that a negative bias supply is utilized and the positions of the N channel and P channel transistors with respect to the reference potential, i.e., ground, are reversed. The flip-flop 83 is clocked by the same clock source as flip-flop 81 and the output of the flip-flop is connected to the second input terminal of NOR gate 87.
The output of flip-flop 83 is also connected to a level sensor 102 which determines when the Q output of flip-flop 83 goes positive. The level sensor 102 inverts the input signal thereto with the inverted signal being coupled to the gate terminals of P channel transistor 100 and N channel transistor 104, each of which forms one leg of transmission pairs 106 and 108, respectively. The inverted output of the level sensor 102 is also connected to an inverter 110, the output of which is connected to the gate terminals of N channel transistor 112 and P channel transistor 114, each of which forms the second leg, respectively, of transmission pairs 106 and 108. The drain terminals of each of the transistors 100, 104, 112 and 114 are connected in common to a discharge resistor 99 which in turn is connected to the input of the integrator 76. The source terminals of transistors 100 and 112 are connected in common to a source of negative reference voltage VR while the source terminals of transistors 104 and 114 are connected in common to a reference potential such as ground.
With reference to FIG. 5, the operation of the analog to pulse rate converter of FIG. 4 will now be described. As illustrated in FIG. 5a, an analog input signal of variable amplitude is coupled to the input terminal 73 of the analog to pulse rate converter. The input signal is illustrated as having three amplitude levels; however, it should be understood that the input signal could have a continuously varying input level. The input signal is integrated by the integrator circuit 76. As illustrated, when the input signal has a low amplitude, a relatively long time TR is required before the voltage at the output of the integrator reaches the predetermined threshold level VTH. When, however, the input signal has a relatively high amplitude, the integrator integrates to the threshold voltage VTH in a rather short interval of time. It should be pointed out that while the integrated signal waveforms illustrated in FIG. 5b are illustrated as going positive for the sake of clarity and to facilitate the description of the invention, for input signals which are positive, the output of the integrator will go in a negative direction and for input signals which are negative, the output of the integrator 76 will go in the positive direction.
When the output of the integrator 76 reaches a threshold level, level sensor 79 provides an output signal which is inverted by inverter 82. The output of inverter 82 is coupled to the K input of JK flip-flop 83 and to the input of a second inverter 84. The output of inverter 84 is coupled to the J input of the flip-flop 83. Thus, the JK flip-flop 83 generates a high output at the Q terminal thereof to thereby provide an output pulse to the output terminal 116 via the NOR gate 87, as illustrated in FIG. 5b. The output of the flip-flop 83 is also coupled to level sensor 102 which inverts the output. This inverted signal is coupled to the gate terminals of transistors 100 and 104, thereby turning on transistor 100 and turning off transistor 104. At the same time the output of level sensor 102 is inverted and coupled to the gate terminals of transistors 112 and 114, thereby turning on transistor 112 and turning off transistor 114. Hence, the source of negative reference voltage VR is connected to the input of the integrator 76 via discharge resistor 99. Thus, capacitor Cf discharges through resistor 99 during the time period TR, as illustrated in FIG. 5b, which is the time required to complete one cycle of the clock pulse signal coupled to the flip-flops 81 and 83 as illustrated in FIG. 5c. The voltage V and the resistor 99 are selected so that capacitor Cf discharges to reference potential during the fixed period TR. After capacitor Cf has been completely discharged, JK flip-flop 83 is reset and hence transmission pair 108 is turned on while transmission pair 106 is turned off. Thus capacitor Cf again charges with the current IF provided by the input voltage at input terminal 73. If the input signal is negative, the level sensor 77 detects the output of the integrator and the flip-flop 83 provides the output pulse to output terminal 116 via NOR gate 87. In addition, transmission pair 107 provides the gating means for discharging the capacitor Cf when the threshold voltage is reached.
Refer now to FIG. 5d which illustrates the output pulses at output terminal 116. The output pulses are of substantially uniform pulse duration. The duration being substantially equal to the time TR. However, the time period between pulses or the frequency thereof changes in accordance with the input amplitude. Thus, when the input signal has a low amplitude, the frequency of the output pulses is low while when the input amplitude is high, the pulse frequency is high. This is in accordance with equation (6).
A C-MOS analog to pulse rate or analog to frequency converter has been disclosed which provides a pulse train at its output wherein the pulse rate of the pulse train is proportional to the analog input signal over a relatively wide dynamic range of more than 200:1. Long term stability and low conversion error are provided since such stability and low error levels are dependent only upon the stability of the reference voltages, the resistors and the stability of the output of the quartz crystal oscillator. Since each of these parameters can be maintained quite constant and accurate, the present invention provides exceedingly high accuracy and low conversion error.
While it should be understood that the present invention can be used in various applications such as in telemetry systems, digital volt meters and analog/digital systems, one preferred application of the invention is in connection with a watt to watt-hour converter such as disclosed and described in U.S. Pat. Application Ser. No. 361,030, filed May 17, 1973, now U.S. Pat. No. 3,875,509, which is hereby incorporated by reference and which is assigned to the common assignee herewith. Such a watt-hour meter is illustrated schematically in FIG. 6. In the simplified diagram of FIG. 6, the three power lines 301, 302 and 303 of a three-phase, 60 Hz electrical system conduct instantaneous line currents i1, i2 and i3 to a deltaconnected polyphase electrical load. Across the three branches of the electrical load three instantaneous line-to-line voltages v12, v32 and v31 are impressed. Two instrument current-transformers CT1 and CT3 as well as two instrument potentialtransformers PT12 and PT32 are electrically coupled with the transmission lines 301, 302 and 303, as shown in FIG. 6. The aforesaid instrument transformers are coupled with the transmission lines according to the teachings of the wellknown Blondel theorem. Thus, line 302 has been arbitrarily selected as the common point, or line, for carrying out power and energy metering in accordance with the aforesaid theorem. The current transformer CT1 provides an output analog signal representative of the instantaneous line current i1. The current transformer CT3 provides an output analog signal representative of the instantaneous line current i3. The potential transformer PT12 provides an output analog signal representative of the instantaneous line voltage v12. The potential transformer PT32 provides an output analog signal representative of the instantaneous line voltage v32. The analog signals representing i1 and v12 are delivered to the input of a multiplier M12. Similarly, the analog signals representing i3 and v32 are delivered to the input of another multiplier M32. The multiplier M12, in effect, multiplies the signals representing i1 and v12 and produces at the output of said multiplier a signal vz12 which is proportional to the product P12 = i1 v.sub. 12. The multiplier M32, in effect, multiplies the signals representing i3 and v32 and produces at the output of said multiplier another signal vz32 which is proportional to the product p32 = i3 v32. As indicated at FIG. 6, the output signals vz12 and vz32, which represent instantaneous partial powers p12 and p32, respectively, are summed at a summing point 304 to provide another signal representing the total instantaneous system power p, where

 p = i.sub.1 v.sub.12 + i.sub.3 v.sub.32                    (7)
The metering principle employed in the illustrative example is based on the use of the Blondel theorem which enables power measurement in, for example, a three-phase electrical system, but uses only two multiplying channels. According to the theorem the power in a system of N lines may be measured by (N-1) wattmeter elements so arranged that each of the (N-1) lines contains one current measuring element with a corresponding potential measuring element being connected between each of the lines and a common point. In the event that the common point happens to be one of the lines (e.g., line 302 in FIG. 6) power can be measured by (N-1) elements. Thus, in the three-wire system of FIG. 6, the total instantaneous power p delivered to the load is:

 p = i.sub.1 v.sub.12 + i.sub.3 v.sub.32 = p.sub.12 + p.sub.32 (8)
where v12 and v32 are instantaneous line voltages and i1 and i2 are instantaneous line currents. Also p12 and p32 are instantaneous partial powers.
In FIG. 6 the signals vz12 and vz32, representing the aforesaid partial powers p12 and p32, are combined at the summing point 304 and delivered to an input of a summing low-pass filter 305. The filter 305 sums, or integrates, and averages the aforesaid signals representing the partial powers p12 and p32 to produce at the output of said filter a signal VF proportional to the active average total system power P. In effect, the filter 305 performs integrating and averaging operations in accordance with the following relationship: ##EQU7## or ##EQU8## wherein ##EQU9## Therefore,

 P = P.sub.12 + P.sub.32                                    (10)
where P12 and P32 are average partial powers and P is average total power.
It can also be shown that the active, average polyphase power P is:

 P = â3 V I cos Î¸                              (11)
where V represents rms line voltage and I represents rms line current; P represents the true active average power in a polyphase load; and Î¸ is the phase angle.
The output signal VF at the output of the filter 305 is delivered, as indicated at FIG. 6, to the input of the analog to pulse-rate converter 306 of the present invention which functions to convert the signal VF (which is proportional to P) to system energy W according to the relationship: ##EQU10##
However, if the time duration T = TF (i.e., the indicated integration occurring in the A/PR converter 306 for a finite time duration TF) then each time the energy W accumulates to a quantity W in the converter according to the relationship ##EQU11## an output signal pulse Vo, representing a predetermined quantity of electrical energy W, is delivered at the output of the A/PR converter 306. For example, in the specific embodiment illustrated each output signal pulse Vo is representative of the quantized electrical energy W = 1.2 Watt-hours (Wh). Thus, the A/PR converter 306 delivers a series, or train, of pulses Vo at its output; the accumulated number of output pulses Vo representing the total electrical energy W of the system. As aforementioned, the series of pulses Vo has a variable pulse repetition rate f which is proportional to the total average system power P.
As indicated at FIG. 6, the output pulses Vo are delivered to the input of a pulse amplifier 307, the amplified output of which drives a stepping motor SM. The stepping motor SM, in turn, operates an electromechanical kW-hour display register 308 which displays, in decimal digits, the accumulated energy in kilowatt-hours (kW-hours). While a conventional stepping motor SM and electromechanical register 308 are illustrated at FIG. 6, it is to be understood that the stepping motor SM and register 308 are indicated by way of example only. The electrical energy meter according to the present invention may employ, instead of the aforesaid stepping motor and electromechanical register, a liquid crystal or LED display suitably coupled with a nonvolatile electronic memory element and driven by logic circuitry. The Watt-hour meter of FIG. 6 requires an analog to pulse rate converter which has a wide dynamic range and in addition has long term stability and an exceedingly low conversion error. Such an analog to pulse rate converter, as disclosed in the present application, not only provides the aforementioned features but also is compact because of the monolithic circuitry utilized and requires very little power drain because of the utilization of C-MOS circuitry.
While the present invention has been disclosed in connection with a preferred embodiment, it should be understood that there may be other obvious modifications of the invention which fall within the spirit and scope of the invention as defined by the appended claims.